{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./TrendingView.css';// CSS dosyasƒ±nƒ± import ediyoruz\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TrendingView=()=>{const[trendingFiles,setTrendingFiles]=useState([]);const[activeCategory,setActiveCategory]=useState('all');const[loading,setLoading]=useState(false);const[isDarkTheme,setIsDarkTheme]=useState(true);useEffect(()=>{fetchTrendingFiles();},[activeCategory]);const fetchTrendingFiles=async()=>{try{console.log('üî• Trend verileri √ßekiliyor...');const token=localStorage.getItem('token');const response=await fetch('http://localhost:8001/api/trending/',{headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('üì° Trend response status:',response.status);if(!response.ok){// 500 hatasƒ± durumunda fallback data kullan\nif(response.status===500){console.warn('‚ö†Ô∏è Trend API 500 hatasƒ±, fallback data kullanƒ±lƒ±yor');setTrendingFiles([]);return;}throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();console.log('‚úÖ Trend verisi:',data);setTrendingFiles(data);}catch(error){console.error('‚ùå Trend verileri y√ºklenirken hata:',error);// Hata durumunda bo≈ü array ile devam et\nsetTrendingFiles([]);}};const toggleTheme=()=>{setIsDarkTheme(!isDarkTheme);};const getCategoryLabel=category=>{switch(category){case'all':return'T√ºm√º';case'image':return'G√∂rseller';case'video':return'Videolar';case'document':return'Dok√ºmanlar';case'audio':return'Sesler';default:return category;}};const getFileIcon=fileType=>{switch(fileType){case'image':return'üñºÔ∏è';case'video':return'üé•';case'document':return'üìÑ';case'audio':return'üéµ';default:return'üìÅ';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"trending-container \".concat(isDarkTheme?'':'light-theme'),children:[/*#__PURE__*/_jsxs(\"header\",{className:\"trending-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"logo\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-chart-line\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Trendler\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"theme-toggle\",onClick:toggleTheme,children:/*#__PURE__*/_jsx(\"i\",{className:isDarkTheme?'fas fa-moon':'fas fa-sun'})})]}),/*#__PURE__*/_jsxs(\"main\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Trend \\u0130\\xE7erikler\"}),/*#__PURE__*/_jsx(\"p\",{className:\"subtitle\",children:\"En pop\\xFCler ve g\\xFCncel i\\xE7erikleri ke\\u015Ffedin\"}),/*#__PURE__*/_jsx(\"div\",{className:\"filter-tabs\",children:['all','image','video','document','audio'].map(category=>/*#__PURE__*/_jsx(\"div\",{className:\"filter-tab \".concat(activeCategory===category?'active':''),onClick:()=>setActiveCategory(category),children:getCategoryLabel(category)},category))}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"content-area\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loading\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Y\\xFCkleniyor...\"})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"content-area\",children:trendingFiles.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"trending-grid\",children:trendingFiles.map(file=>/*#__PURE__*/_jsxs(\"div\",{className:\"trending-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"trending-thumbnail\",children:[file.file_type==='image'?/*#__PURE__*/_jsx(\"img\",{src:file.share_url,alt:file.file_name}):/*#__PURE__*/_jsx(\"div\",{className:\"file-icon\",children:getFileIcon(file.file_type)}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-badge\",children:[\"\\uD83D\\uDD25 \",Math.round(file.trend_score||0)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"trending-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:file.file_name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),\" \",file.created_by_username||'Anonim']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" \",file.view_count||0,\" g\\xF6r\\xFCnt\\xFClenme\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-clock\"}),\" \",file.upload_time_ago]})]})]},file.id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"far fa-folder-open\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Hen\\xFCz trend i\\xE7erik bulunmuyor\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u015Eu anda hi\\xE7 trend i\\xE7erik yok. Daha sonra tekrar kontrol etmeyi unutmay\\u0131n veya yeni i\\xE7erik ekleyin.\"})]})})]})]});};export default TrendingView;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","TrendingView","trendingFiles","setTrendingFiles","activeCategory","setActiveCategory","loading","setLoading","isDarkTheme","setIsDarkTheme","fetchTrendingFiles","console","log","token","localStorage","getItem","response","fetch","headers","concat","status","ok","warn","Error","data","json","error","toggleTheme","getCategoryLabel","category","getFileIcon","fileType","className","children","onClick","map","length","file","file_type","src","share_url","alt","file_name","Math","round","trend_score","created_by_username","view_count","upload_time_ago","id"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/components/TrendingView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './TrendingView.css'; // CSS dosyasƒ±nƒ± import ediyoruz\r\n\r\nconst TrendingView = () => {\r\n    const [trendingFiles, setTrendingFiles] = useState([]);\r\n    const [activeCategory, setActiveCategory] = useState('all');\r\n    const [loading, setLoading] = useState(false);\r\n    const [isDarkTheme, setIsDarkTheme] = useState(true);\r\n\r\n    useEffect(() => {\r\n        fetchTrendingFiles();\r\n    }, [activeCategory]);\r\n\r\n    const fetchTrendingFiles = async () => {\r\n        try {\r\n            console.log('üî• Trend verileri √ßekiliyor...');\r\n            const token = localStorage.getItem('token');\r\n\r\n            const response = await fetch('http://localhost:8001/api/trending/', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n            });\r\n\r\n            console.log('üì° Trend response status:', response.status);\r\n\r\n            if (!response.ok) {\r\n                // 500 hatasƒ± durumunda fallback data kullan\r\n                if (response.status === 500) {\r\n                    console.warn('‚ö†Ô∏è Trend API 500 hatasƒ±, fallback data kullanƒ±lƒ±yor');\r\n                    setTrendingFiles([]);\r\n                    return;\r\n                }\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            console.log('‚úÖ Trend verisi:', data);\r\n            setTrendingFiles(data);\r\n        } catch (error) {\r\n            console.error('‚ùå Trend verileri y√ºklenirken hata:', error);\r\n            // Hata durumunda bo≈ü array ile devam et\r\n            setTrendingFiles([]);\r\n        }\r\n    };\r\n\r\n    const toggleTheme = () => {\r\n        setIsDarkTheme(!isDarkTheme);\r\n    };\r\n\r\n    const getCategoryLabel = (category) => {\r\n        switch (category) {\r\n            case 'all': return 'T√ºm√º';\r\n            case 'image': return 'G√∂rseller';\r\n            case 'video': return 'Videolar';\r\n            case 'document': return 'Dok√ºmanlar';\r\n            case 'audio': return 'Sesler';\r\n            default: return category;\r\n        }\r\n    };\r\n\r\n    const getFileIcon = (fileType) => {\r\n        switch (fileType) {\r\n            case 'image': return 'üñºÔ∏è';\r\n            case 'video': return 'üé•';\r\n            case 'document': return 'üìÑ';\r\n            case 'audio': return 'üéµ';\r\n            default: return 'üìÅ';\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={`trending-container ${isDarkTheme ? '' : 'light-theme'}`}>\r\n            <header className=\"trending-header\">\r\n                <div className=\"logo\">\r\n                    <i className=\"fas fa-chart-line\"></i>\r\n                    <span>Trendler</span>\r\n                </div>\r\n                <button className=\"theme-toggle\" onClick={toggleTheme}>\r\n                    <i className={isDarkTheme ? 'fas fa-moon' : 'fas fa-sun'}></i>\r\n                </button>\r\n            </header>\r\n\r\n            <main>\r\n                <h1>Trend ƒ∞√ßerikler</h1>\r\n                <p className=\"subtitle\">En pop√ºler ve g√ºncel i√ßerikleri ke≈üfedin</p>\r\n\r\n                <div className=\"filter-tabs\">\r\n                    {['all', 'image', 'video', 'document', 'audio'].map(category => (\r\n                        <div\r\n                            key={category}\r\n                            className={`filter-tab ${activeCategory === category ? 'active' : ''}`}\r\n                            onClick={() => setActiveCategory(category)}\r\n                        >\r\n                            {getCategoryLabel(category)}\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {loading ? (\r\n                    <div className=\"content-area\">\r\n                        <div className=\"loading\">\r\n                            <i className=\"fas fa-spinner fa-spin\"></i>\r\n                            <p>Y√ºkleniyor...</p>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"content-area\">\r\n                        {trendingFiles.length > 0 ? (\r\n                            <div className=\"trending-grid\">\r\n                                {trendingFiles.map(file => (\r\n                                    <div key={file.id} className=\"trending-item\">\r\n                                        <div className=\"trending-thumbnail\">\r\n                                            {file.file_type === 'image' ? (\r\n                                                <img src={file.share_url} alt={file.file_name} />\r\n                                            ) : (\r\n                                                <div className=\"file-icon\">\r\n                                                    {getFileIcon(file.file_type)}\r\n                                                </div>\r\n                                            )}\r\n                                            <div className=\"trending-badge\">\r\n                                                üî• {Math.round(file.trend_score || 0)}\r\n                                            </div>\r\n                                        </div>\r\n                                        <div className=\"trending-info\">\r\n                                            <h4>{file.file_name}</h4>\r\n                                            <p><i className=\"fas fa-user\"></i> {file.created_by_username || 'Anonim'}</p>\r\n                                            <p><i className=\"fas fa-eye\"></i> {file.view_count || 0} g√∂r√ºnt√ºlenme</p>\r\n                                            <p><i className=\"fas fa-clock\"></i> {file.upload_time_ago}</p>\r\n                                        </div>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"empty-state\">\r\n                                <i className=\"far fa-folder-open\"></i>\r\n                                <h2>Hen√ºz trend i√ßerik bulunmuyor</h2>\r\n                                <p>≈ûu anda hi√ß trend i√ßerik yok. Daha sonra tekrar kontrol etmeyi unutmayƒ±n veya yeni i√ßerik ekleyin.</p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </main>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default TrendingView;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
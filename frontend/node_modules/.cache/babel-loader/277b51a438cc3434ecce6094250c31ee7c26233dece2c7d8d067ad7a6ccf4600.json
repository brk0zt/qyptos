{"ast":null,"code":"let presenceSocket=null;let listeners=[];export function connectPresence(onUpdate){presenceSocket=new WebSocket(\"ws://127.0.0.1:8001/ws/presence/\");presenceSocket.onmessage=e=>{const data=JSON.parse(e.data);if(onUpdate)onUpdate(data);listeners.forEach(cb=>cb(data));};presenceSocket.onopen=()=>console.log(\"ðŸŸ¢ Presence soketi bagli\");presenceSocket.onclose=()=>console.log(\"âš« Presence soketi kapandi\");}export function onPresenceUpdate(cb){listeners.push(cb);}","map":{"version":3,"names":["presenceSocket","listeners","connectPresence","onUpdate","WebSocket","onmessage","e","data","JSON","parse","forEach","cb","onopen","console","log","onclose","onPresenceUpdate","push"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/utils/presenceSocket.js"],"sourcesContent":["let presenceSocket = null;\r\nlet listeners = [];\r\n\r\nexport function connectPresence(onUpdate) {\r\n    presenceSocket = new WebSocket(`ws://127.0.0.1:8001/ws/presence/`);\r\n\r\n    presenceSocket.onmessage = (e) => {\r\n        const data = JSON.parse(e.data);\r\n        if (onUpdate) onUpdate(data);\r\n        listeners.forEach((cb) => cb(data));\r\n    };\r\n\r\n    presenceSocket.onopen = () => console.log(\"ðŸŸ¢ Presence soketi bagli\");\r\n    presenceSocket.onclose = () => console.log(\"âš« Presence soketi kapandi\");\r\n}\r\n\r\nexport function onPresenceUpdate(cb) {\r\n    listeners.push(cb);\r\n}\r\n\r\n"],"mappings":"AAAA,GAAI,CAAAA,cAAc,CAAG,IAAI,CACzB,GAAI,CAAAC,SAAS,CAAG,EAAE,CAElB,MAAO,SAAS,CAAAC,eAAeA,CAACC,QAAQ,CAAE,CACtCH,cAAc,CAAG,GAAI,CAAAI,SAAS,mCAAmC,CAAC,CAElEJ,cAAc,CAACK,SAAS,CAAIC,CAAC,EAAK,CAC9B,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACC,IAAI,CAAC,CAC/B,GAAIJ,QAAQ,CAAEA,QAAQ,CAACI,IAAI,CAAC,CAC5BN,SAAS,CAACS,OAAO,CAAEC,EAAE,EAAKA,EAAE,CAACJ,IAAI,CAAC,CAAC,CACvC,CAAC,CAEDP,cAAc,CAACY,MAAM,CAAG,IAAMC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC,CACrEd,cAAc,CAACe,OAAO,CAAG,IAAMF,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC,CAC3E,CAEA,MAAO,SAAS,CAAAE,gBAAgBA,CAACL,EAAE,CAAE,CACjCV,SAAS,CAACgB,IAAI,CAACN,EAAE,CAAC,CACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
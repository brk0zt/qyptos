{"ast":null,"code":"let presenceSocket = null;\nlet listeners = [];\nexport function connectPresence(onUpdate) {\n  presenceSocket = new WebSocket(`ws://127.0.0.1:8001/ws/presence/`);\n  presenceSocket.onmessage = e => {\n    const data = JSON.parse(e.data);\n    if (onUpdate) onUpdate(data);\n    listeners.forEach(cb => cb(data));\n  };\n  presenceSocket.onopen = () => console.log(\"ðŸŸ¢ Presence soketi bagli\");\n  presenceSocket.onclose = () => console.log(\"âš« Presence soketi kapandi\");\n}\nexport function onPresenceUpdate(cb) {\n  listeners.push(cb);\n}","map":{"version":3,"names":["presenceSocket","listeners","connectPresence","onUpdate","WebSocket","onmessage","e","data","JSON","parse","forEach","cb","onopen","console","log","onclose","onPresenceUpdate","push"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/utils/presenceSocket.js"],"sourcesContent":["let presenceSocket = null;\r\nlet listeners = [];\r\n\r\nexport function connectPresence(onUpdate) {\r\n    presenceSocket = new WebSocket(`ws://127.0.0.1:8001/ws/presence/`);\r\n\r\n    presenceSocket.onmessage = (e) => {\r\n        const data = JSON.parse(e.data);\r\n        if (onUpdate) onUpdate(data);\r\n        listeners.forEach((cb) => cb(data));\r\n    };\r\n\r\n    presenceSocket.onopen = () => console.log(\"ðŸŸ¢ Presence soketi bagli\");\r\n    presenceSocket.onclose = () => console.log(\"âš« Presence soketi kapandi\");\r\n}\r\n\r\nexport function onPresenceUpdate(cb) {\r\n    listeners.push(cb);\r\n}\r\n\r\n"],"mappings":"AAAA,IAAIA,cAAc,GAAG,IAAI;AACzB,IAAIC,SAAS,GAAG,EAAE;AAElB,OAAO,SAASC,eAAeA,CAACC,QAAQ,EAAE;EACtCH,cAAc,GAAG,IAAII,SAAS,CAAC,kCAAkC,CAAC;EAElEJ,cAAc,CAACK,SAAS,GAAIC,CAAC,IAAK;IAC9B,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,CAAC,CAACC,IAAI,CAAC;IAC/B,IAAIJ,QAAQ,EAAEA,QAAQ,CAACI,IAAI,CAAC;IAC5BN,SAAS,CAACS,OAAO,CAAEC,EAAE,IAAKA,EAAE,CAACJ,IAAI,CAAC,CAAC;EACvC,CAAC;EAEDP,cAAc,CAACY,MAAM,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAC;EACrEd,cAAc,CAACe,OAAO,GAAG,MAAMF,OAAO,CAACC,GAAG,CAAC,2BAA2B,CAAC;AAC3E;AAEA,OAAO,SAASE,gBAAgBA,CAACL,EAAE,EAAE;EACjCV,SAAS,CAACgB,IAAI,CAACN,EAAE,CAAC;AACtB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useAuth}from\"../AuthContext\";import\"./ChunkDownloader.css\";import SecureViewer from'./SecureViewer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const BrainMemoryVisualization=_ref=>{let{percentage,used,remaining}=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"brain-memory\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83E\\uDDE0 Yapay Haf\\u0131za\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"brain-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"brain-fill-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"brain-fill\",style:{height:\"\".concat(percentage,\"%\")}})}),/*#__PURE__*/_jsx(\"div\",{className:\"brain-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"brain-percentage\",children:[percentage.toFixed(1),\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"memory-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[used.toFixed(1),\" GB\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Kullan\\u0131lan\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[remaining.toFixed(1),\" GB\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Kalan\"})]})]})]});};const StoragePieChart=_ref2=>{let{percentage,used,remaining}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"storage-pie\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCBE Depolama Alan\\u0131\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pie-chart\",style:{'--percentage':\"\".concat(percentage,\"%\")},children:/*#__PURE__*/_jsxs(\"span\",{className:\"percentage\",children:[percentage.toFixed(1),\"%\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"memory-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[used,\" GB\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Kullan\\u0131lan\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info-value\",children:[remaining,\" GB\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"info-label\",children:\"Kalan\"})]})]})]});};const ChunkDownloader=_ref3=>{let{apiBase,userEmail}=_ref3;const{user,logout}=useAuth();const[files,setFiles]=useState([]);const[canDownload,setCanDownload]=useState(true);const[uploading,setUploading]=useState(false);const[selectedFile,setSelectedFile]=useState(null);const[viewOption,setViewOption]=useState('standard');const[privacyOption,setPrivacyOption]=useState('private');const[totalStorage,setTotalStorage]=useState(0);const[viewDuration,setViewDuration]=useState('10s');const[sharingFile,setSharingFile]=useState(null);const[shareLinks,setShareLinks]=useState([]);const[memoryUsage,setMemoryUsage]=useState(0);const[viewingFile,setViewingFile]=useState(null);// Yeni state: gÃ¶rÃ¼ntÃ¼lenen dosya\nconst viewDurationOptions=[{value:'10s',label:'10 Saniye',description:'Medya 10 saniye gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r'},{value:'30s',label:'30 Saniye',description:'Medya 30 saniye gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r'},{value:'1m',label:'1 Dakika',description:'Medya 1 dakika gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r'},{value:'5m',label:'5 Dakika',description:'Medya 5 dakika gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r'},{value:'1h',label:'1 Saat',description:'Medya 1 saat gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r'},{value:'video',label:'Video SÃ¼resi',description:'Sadece video sÃ¼resi boyunca gÃ¶rÃ¼ntÃ¼lenir'},{value:'unlimited',label:'SÃ¼resiz',description:'Manuel olarak kapatÄ±lana kadar aÃ§Ä±k kalÄ±r'}];const getToken=()=>{const token=localStorage.getItem('token');if(!token){console.log('âŒ Token bulunamadÄ±');return null;}return token;};const getBaseUrl=()=>{return apiBase.replace('/api','');};const getShareUrl=file=>{// Ã–NEMLÄ°: file.view_token kullanÄ±yoruz!\nconst baseUrl=getBaseUrl();return\"\".concat(baseUrl,\"/share/\").concat(file.view_token,\"/\");};useEffect(()=>{const interval=setInterval(()=>{setMemoryUsage(Math.random()*8+2);},5000);return()=>clearInterval(interval);},[]);const fetchFiles=async()=>{const token=getToken();if(!token){logout();return;}try{console.log('ðŸ”„ Dosyalar Ã§ekiliyor...');const response=await fetch(\"\".concat(apiBase,\"/files/\"),{method:'GET',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'}});console.log('ðŸ“¡ Dosya response status:',response.status);if(response.ok){const userFiles=await response.json();console.log('âœ… Dosya verisi:',userFiles);setFiles(userFiles);let totalSize=0;userFiles.forEach(file=>{if(file.file_size&&file.file_size>0){totalSize+=file.file_size;}else{const fileName=file.file_name||(file.file?file.file.split('/').pop().toLowerCase():'');if(fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/)){totalSize+=500*1024;}else{totalSize+=1024*1024;}}});setTotalStorage(totalSize);}else if(response.status===401){console.log('âŒ Token geÃ§ersiz');logout();}else if(response.status===500){console.error('âŒ Sunucu hatasÄ±:',response.status);const errorText=await response.text();console.error('Sunucu hata detayÄ±:',errorText);alert('Sunucu hatasÄ± oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyin.');}else{console.log('âš ï¸ Dosyalar alÄ±namadÄ±, status:',response.status);setFiles([]);}}catch(error){console.error('âŒ Dosyalar yÃ¼klenirken hata:',error);setFiles([]);}};useEffect(()=>{fetchFiles();},[]);// handleFileUpload fonksiyonunu dÃ¼zgÃ¼n ÅŸekilde tanÄ±mla\nconst handleFileUpload=async e=>{e.preventDefault();const token=getToken();if(!token){alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');logout();return;}if(!selectedFile){alert(\"LÃ¼tfen bir dosya seÃ§in\");return;}// Dosya boyutu kontrolÃ¼ (10 GB)\nconst maxSize=10*1024*1024*1024;if(selectedFile.size>maxSize){alert('Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 10 GB dosya yÃ¼kleyebilirsiniz.');return;}// Toplam depolama kontrolÃ¼\nif(totalStorage+selectedFile.size>maxSize){alert('Depolama alanÄ± yetersiz! LÃ¼tfen bazÄ± dosyalarÄ± silin.');return;}setUploading(true);const formData=new FormData();formData.append('file',selectedFile);formData.append('can_download',canDownload);formData.append('one_time_view',viewOption==='one_time');formData.append('is_public',privacyOption==='public');// GÃ¶rÃ¼ntÃ¼leme sÃ¼resini ekle\nif(viewOption==='one_time'){formData.append('view_duration',viewDuration);}try{const response=await fetch(\"\".concat(apiBase,\"/files/\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});if(response.ok){const result=await response.json();alert('Dosya baÅŸarÄ±yla yÃ¼klenmiÅŸtir!');setSelectedFile(null);setViewOption('standard');setViewDuration('10s');setPrivacyOption('private');if(document.getElementById('file-input')){document.getElementById('file-input').value='';}fetchFiles();}else if(response.status===401){alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');logout();}else{alert('Dosya yÃ¼klenirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.');}}catch(error){console.error('âŒ YÃ¼kleme hatasÄ±:',error);alert('Dosya yÃ¼klenirken baÄŸlantÄ± hatasÄ± oluÅŸtu');}finally{setUploading(false);}};const handleDeleteFile=async fileId=>{const token=getToken();if(!token){alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');logout();return;}if(!confirm('Bu dosyayÄ± silmek istediÄŸinizden emin misiniz?')){return;}try{const response=await fetch(\"\".concat(apiBase,\"/files/\").concat(fileId,\"/\"),{method:'DELETE',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){alert('Dosya baÅŸarÄ±yla silindi');fetchFiles();}else if(response.status===401){logout();}else{alert('Silme iÅŸlemi baÅŸarÄ±sÄ±z: '+response.status);}}catch(error){console.error('Silme hatasÄ±:',error);alert('Dosya silinirken hata oluÅŸtu');}};const handleDownloadFile=async file=>{const token=getToken();if(!token){alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');logout();return;}try{let fileUrl;if(file.file_url){fileUrl=file.file_url;}else if(file.file){if(file.file.startsWith('http')){fileUrl=file.file;}else if(file.file.startsWith('/')){const baseUrl=getBaseUrl();fileUrl=\"\".concat(baseUrl).concat(file.file);}}else{fileUrl=\"\".concat(apiBase,\"/files/\").concat(file.id,\"/download/\");}console.log('ðŸ“¥ Ä°ndirme URL:',fileUrl);window.open(fileUrl,'_blank');}catch(error){console.error('Ä°ndirme hatasÄ±:',error);alert('Dosya indirilirken hata oluÅŸtu');}};const handleViewFile=file=>{// DosyayÄ± gÃ¶rÃ¼ntÃ¼leme modunda aÃ§\nsetViewingFile(file);};const handleCloseViewer=()=>{// GÃ¶rÃ¼ntÃ¼leyiciyi kapat\nsetViewingFile(null);};// PaylaÅŸÄ±m fonksiyonlarÄ±\nconst fetchShareLinks=async fileId=>{const token=getToken();try{const response=await fetch(\"\".concat(apiBase,\"/shares/?file=\").concat(fileId),{headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){const shares=await response.json();setShareLinks(shares);}}catch(error){console.error('PaylaÅŸÄ±m linkleri yÃ¼klenemedi:',error);}};const createShareLink=async function(fileId,shareType){let expiresHours=arguments.length>2&&arguments[2]!==undefined?arguments[2]:24;let maxViews=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;let password=arguments.length>4&&arguments[4]!==undefined?arguments[4]:'';const token=getToken();try{const shareData={file:fileId,share_type:shareType,max_views:maxViews};if(expiresHours){const expiresAt=new Date();expiresAt.setHours(expiresAt.getHours()+expiresHours);shareData.expires_at=expiresAt.toISOString();}if(password){shareData.password=password;}const response=await fetch(\"\".concat(apiBase,\"/shares/\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token),'Content-Type':'application/json'},body:JSON.stringify(shareData)});if(response.ok){const newShare=await response.json();setShareLinks(prev=>[...prev,newShare]);return newShare;}}catch(error){console.error('PaylaÅŸÄ±m oluÅŸturulamadÄ±:',error);}return null;};const revokeShare=async shareId=>{const token=getToken();try{const response=await fetch(\"\".concat(apiBase,\"/shares/\").concat(shareId,\"/revoke/\"),{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)}});if(response.ok){setShareLinks(prev=>prev.filter(share=>share.id!==shareId));}}catch(error){console.error('PaylaÅŸÄ±m iptal edilemedi:',error);}};const handleShareClick=async file=>{// Debug iÃ§in\nconsole.log('ðŸ”— PaylaÅŸÄ±m dosyasÄ±:',file);const shareUrl=getShareUrl(file);// Linki kopyala ve bilgi ver\nnavigator.clipboard.writeText(shareUrl);alert(\"\\u2705 Payla\\u015F\\u0131m linki kopyaland\\u0131!\\n\\nLink: \".concat(shareUrl,\"\\n\\nBu linki istedi\\u011Finiz ki\\u015Fiyle payla\\u015Fabilirsiniz.\"));// Modal'Ä± kapat\nsetSharingFile(null);};const copyToClipboard=text=>{navigator.clipboard.writeText(text).then(()=>{alert('Link panoya kopyalandÄ±!');});};const shareOnWhatsApp=url=>{const text=\"Dosyay\\u0131 g\\xF6r\\xFCnt\\xFCle: \".concat(url);window.open(\"https://wa.me/?text=\".concat(encodeURIComponent(text)),'_blank');};const shareOnInstagram=url=>{const text=\"Bu dosyay\\u0131 g\\xF6r\\xFCnt\\xFCle: \".concat(url);window.open(\"https://instagram.com/direct?text=\".concat(encodeURIComponent(text)),'_blank');};const shareOnCloudDM=share=>{alert(\"Cloud DM payla\\u015F\\u0131m\\u0131: \".concat(share.share_url,\"\\nBu \\xF6zellik uygulaman\\u0131z\\u0131n mesajla\\u015Fma sistemine entegre edilebilir.\"));};const getFileIcon=file=>{const fileName=file.file_name||(file.file?file.file.split('/').pop().toLowerCase():'');if(file.one_time_view){return'fas fa-lock';}if(fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/)){return'fas fa-image';}else if(fileName.match(/\\.(mp4|avi|mov|wmv|flv|mkv)$/)){return'fas fa-video';}else if(fileName.match(/\\.(mp3|wav|ogg|flac)$/)){return'fas fa-music';}else if(fileName.match(/\\.(pdf)$/)){return'fas fa-file-pdf';}else if(fileName.match(/\\.(doc|docx)$/)){return'fas fa-file-word';}else if(fileName.match(/\\.(xls|xlsx)$/)){return'fas fa-file-excel';}else if(fileName.match(/\\.(zip|rar|7z|tar|gz)$/)){return'fas fa-file-archive';}else if(fileName.match(/\\.(exe|msi)$/)){return'fas fa-cog';}else if(fileName.match(/\\.(txt|rtf)$/)){return'fas fa-file-alt';}else{return'fas fa-file';}};const getFilePreview=file=>{const fileName=file.file_name||(file.file?file.file.split('/').pop().toLowerCase():'');const isImage=fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);console.log('ðŸ” Preview iÃ§in dosya analizi:',{fileName,isImage,file_url:file.file_url,file:file.file,id:file.id});if(!isImage){return null;}// Ã–ncelikle doÄŸrudan file_url'i kullan\nif(file.file_url){console.log('âœ… file_url kullanÄ±lÄ±yor:',file.file_url);return file.file_url;}// Sonra file alanÄ±nÄ± kullan\nif(file.file){console.log('âœ… file alanÄ± kullanÄ±lÄ±yor:',file.file);return file.file;}console.log('âŒ HiÃ§bir URL yÃ¶ntemi Ã§alÄ±ÅŸmadÄ±');return null;};// Thumbnail gÃ¶sterimini iyileÅŸtiren CSS\nconst thumbnailStyles=\"\\n.file-preview {\\n    position: relative;\\n    width: 100%;\\n    height: 120px;\\n    background: #f8fafc;\\n    border-radius: 8px;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    margin-bottom: 12px;\\n    overflow: hidden;\\n    border: 1px solid #e5e7eb;\\n    cursor: pointer;\\n}\\n\\n.file-thumbnail {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: cover;\\n    transition: all 0.3s ease;\\n}\\n\\n.file-thumbnail:hover {\\n    transform: scale(1.05);\\n}\\n\\n.file-icon.fallback {\\n    font-size: 2.5rem;\\n    color: #6b7280;\\n}\\n\\n.one-time-badge {\\n    position: absolute;\\n    top: 8px;\\n    right: 8px;\\n    background: rgba(239, 68, 68, 0.9);\\n    color: white;\\n    padding: 4px 8px;\\n    border-radius: 4px;\\n    font-size: 0.7rem;\\n    z-index: 2;\\n}\\n\\n/* T\\u0131klanabilir dosya kart\\u0131 */\\n.file-card {\\n    cursor: pointer;\\n    transition: all 0.3s ease;\\n}\\n\\n.file-card:hover {\\n    transform: translateY(-2px);\\n    box-shadow: 0 8px 25px rgba(0,0,0,0.1);\\n}\\n\\n/* Dosya bilgisi i\\xE7in pointer events none */\\n.file-info, .file-actions {\\n    pointer-events: none;\\n}\\n\\n/* Butonlar i\\xE7in pointer events auto */\\n.file-actions .btn {\\n    pointer-events: auto;\\n}\\n\";// CSS'i head'e ekle\nuseEffect(()=>{const style=document.createElement('style');style.textContent=thumbnailStyles;document.head.appendChild(style);return()=>{document.head.removeChild(style);};},[]);// PaylaÅŸÄ±m modal'Ä±\nconst renderShareModal=()=>{if(!sharingFile)return null;return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"share-modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCE4 Dosyay\\u0131 Payla\\u015F\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSharingFile(null),className:\"close-btn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"create-share-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Yeni Payla\\u015F\\u0131m Olu\\u015Ftur\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"share-options\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>createShareLink(sharingFile.id,'public'),className:\"share-option-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-globe\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Herkese A\\xE7\\u0131k Link\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Herkes g\\xF6r\\xFCnt\\xFCleyebilir\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>createShareLink(sharingFile.id,'one_time',24,1),className:\"share-option-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Tek Kullan\\u0131ml\\u0131k\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Sadece 1 kez g\\xF6r\\xFCnt\\xFClenebilir\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{const password=prompt('Åžifre belirleyin:');if(password){createShareLink(sharingFile.id,'private',168,10,password);}},className:\"share-option-btn\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\u015Eifreli Payla\\u015F\\u0131m\"}),/*#__PURE__*/_jsx(\"small\",{children:\"\\u015Eifre gerektirir\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"active-shares-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Aktif Payla\\u015F\\u0131mlar\"}),shareLinks.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"no-shares\",children:\"Hen\\xFCz payla\\u015F\\u0131m linki olu\\u015Fturulmam\\u0131\\u015F\"}):/*#__PURE__*/_jsx(\"div\",{className:\"shares-list\",children:shareLinks.map(share=>/*#__PURE__*/_jsxs(\"div\",{className:\"share-item\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"share-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"share-type\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas \".concat(share.share_type==='public'?'fa-globe':share.share_type==='one_time'?'fa-eye':'fa-lock')}),share.share_type]}),/*#__PURE__*/_jsxs(\"div\",{className:\"share-stats\",children:[\"G\\xF6r\\xFCnt\\xFClenme: \",share.view_count,\"/\",share.max_views]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"share-url\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:share.share_url,readOnly:true,className:\"url-input\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"share-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>copyToClipboard(share.share_url),className:\"action-btn copy\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-copy\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareOnWhatsApp(share.share_url),className:\"action-btn whatsapp\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-whatsapp\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareOnInstagram(share.share_url),className:\"action-btn instagram\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fab fa-instagram\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>shareOnCloudDM(share),className:\"action-btn cloud\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>revokeShare(share.id),className:\"action-btn delete\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]})]},share.id))})]})]})]})});};// Dosya gÃ¶rÃ¼ntÃ¼leyici modal'Ä±\nconst renderFileViewer=()=>{var _viewingFile$file_nam;if(!viewingFile)return null;console.log(\"ðŸ” Modal aÃ§Ä±ldÄ± - Dosya:\",viewingFile);return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',background:'rgba(0,0,0,0.98)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:10000},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#0a0a0a',borderRadius:'12px',padding:'25px',maxWidth:'95%',maxHeight:'95%',position:'relative',border:'3px solid #ff4444',boxShadow:'0 0 50px rgba(255,0,0,0.3)'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseViewer,style:{position:'absolute',top:'15px',right:'15px',background:'#ff4444',color:'white',border:'none',borderRadius:'50%',width:'40px',height:'40px',cursor:'pointer',fontSize:'18px',fontWeight:'bold',zIndex:10001},children:\"\\u2715\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#ff4444',textAlign:'center',marginBottom:'15px',fontSize:'16px',fontWeight:'bold'},children:viewingFile.one_time_view?\"ðŸ”’ GÃœVENLÄ° GÃ–RÃœNTÃœLEYÄ°CÄ°\":\"ðŸ“ NORMAL GÃ–RÃœNTÃœLEYÄ°CÄ°\"}),/*#__PURE__*/_jsx(SecureViewer,{file:viewingFile,children:/*#__PURE__*/_jsx(\"div\",{style:{maxWidth:'100%',maxHeight:'80vh',borderRadius:'8px',overflow:'hidden',background:'#000'},children:(_viewingFile$file_nam=viewingFile.file_name)!==null&&_viewingFile$file_nam!==void 0&&_viewingFile$file_nam.toLowerCase().endsWith('.mp4')?/*#__PURE__*/_jsx(\"video\",{src:getShareUrl(viewingFile),controls:true,style:{maxWidth:'100%',maxHeight:'70vh',display:'block'},onContextMenu:e=>e.preventDefault()}):/*#__PURE__*/_jsx(\"img\",{src:getShareUrl(viewingFile),alt:viewingFile.file_name,style:{maxWidth:'100%',maxHeight:'70vh',objectFit:'contain',display:'block'},onContextMenu:e=>e.preventDefault()})})}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',textAlign:'center',marginTop:'15px',fontSize:'12px',opacity:0.7},children:viewingFile.one_time_view?\"âš ï¸ Bu iÃ§erik korumalÄ±dÄ±r. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±namaz.\":\"Bu iÃ§erik korumasÄ±zdÄ±r.\"})]})});};// Depolama alanÄ± yÃ¼zdesini hesapla\nconst maxStorage=10*1024*1024*1024;const storagePercentage=Math.min(totalStorage/maxStorage*100,100);const usedGB=(totalStorage/(1024*1024*1024)).toFixed(2);const remainingGB=(10-usedGB).toFixed(2);const memoryPercentage=Math.min(memoryUsage/10*100,100);const remainingMemory=10-memoryUsage;// Debug iÃ§in: TÃ¼m dosya bilgilerini konsola yazdÄ±r\nuseEffect(()=>{if(files.length>0){console.log('ðŸ“ TÃ¼m Dosya Bilgileri:',files);files.forEach((file,index)=>{console.log(\"\\uD83D\\uDCC4 Dosya \".concat(index+1,\":\"),{id:file.id,name:file.file_name,file_field:file.file,file_url:file.file_url,preview_url:getFilePreview(file),full_data:file});});}},[files]);return/*#__PURE__*/_jsxs(\"div\",{className:\"chunk-downloader\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cloud-header\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud-upload-alt\"}),\"Bulutum - Dosya Y\\xF6neticisi\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Dosyalar\\u0131n\\u0131z\\u0131 y\\xFCkleyin ve y\\xF6netin\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"storage-visualization\",children:[/*#__PURE__*/_jsx(StoragePieChart,{percentage:storagePercentage,used:usedGB,remaining:remainingGB}),/*#__PURE__*/_jsx(BrainMemoryVisualization,{percentage:memoryPercentage,used:memoryUsage,remaining:remainingMemory})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC1 Dosya Y\\xFCkle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleFileUpload,className:\"upload-form\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-input-group\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"file-input-label\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",onChange:e=>setSelectedFile(e.target.files[0]),disabled:uploading}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-input-custom\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud-upload-alt\"}),selectedFile?selectedFile.name:\"Dosya SeÃ§...\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-option-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"option-label\",children:\"\\uD83D\\uDC41\\uFE0F G\\xF6r\\xFCn\\xFCm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"option-button \".concat(viewOption==='standard'?'active':''),onClick:()=>setViewOption('standard'),children:\"Standart\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"option-button \".concat(viewOption==='one_time'?'active':''),onClick:()=>setViewOption('one_time'),children:\"Tek Seferlik\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"option-description\",children:viewOption==='one_time'?\"Dosya sadece bir kez gÃ¶rÃ¼ntÃ¼lenebilir\":\"Dosya standart ÅŸekilde paylaÅŸÄ±lÄ±r\"}),viewOption==='one_time'&&/*#__PURE__*/_jsxs(\"div\",{className:\"upload-option-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"option-label\",children:\"\\u23F1\\uFE0F G\\xF6r\\xFCnt\\xFCleme S\\xFCresi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"duration-options\",children:viewDurationOptions.map(option=>/*#__PURE__*/_jsxs(\"div\",{className:\"duration-option \".concat(viewDuration===option.value?'active':''),onClick:()=>setViewDuration(option.value),children:[/*#__PURE__*/_jsx(\"div\",{className:\"duration-radio\",children:/*#__PURE__*/_jsx(\"div\",{className:\"radio-dot\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"duration-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"duration-label\",children:option.label}),/*#__PURE__*/_jsx(\"div\",{className:\"duration-description\",children:option.description})]})]},option.value))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-option-group\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"option-label\",children:\"\\uD83D\\uDD12 Gizlilik\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"option-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"option-button \".concat(privacyOption==='public'?'active':''),onClick:()=>setPrivacyOption('public'),children:\"Herkese A\\xE7\\u0131k\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"option-button \".concat(privacyOption==='private'?'active':''),onClick:()=>setPrivacyOption('private'),children:\"Gizli\"})]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"section-divider\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:uploading||!selectedFile,className:\"upload-button \".concat(uploading?'uploading':''),children:uploading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin\"}),\"Y\\xFCkleniyor...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-upload\"}),\"Dosya Y\\xFCkle\"]})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"files-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"section-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDCC2 Dosyalar\\u0131m\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-count\",children:[\"(\",files.length,\" dosya)\"]})]}),files.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-files\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-folder-open\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Hen\\xFCz dosya y\\xFCklenmemi\\u015F\"}),/*#__PURE__*/_jsx(\"small\",{children:\"Yukar\\u0131daki formdan ilk dosyan\\u0131z\\u0131 y\\xFCkleyebilirsiniz\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"files-grid\",children:files.map(file=>{const previewUrl=getFilePreview(file);const fileSizeMB=file.file_size?(file.file_size/(1024*1024)).toFixed(2):'N/A';const fileName=file.file_name||(file.file?file.file.split('/').pop():'Dosya');return(// âœ… DÃœZELTME: JSX syntax hatasÄ± giderildi\nfile.one_time_view?/*#__PURE__*/_jsx(SecureViewer,{file:file,children:/*#__PURE__*/_jsxs(\"div\",{className:\"file-card\",onClick:()=>handleViewFile(file),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-preview\",children:[previewUrl?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"\\xD6nizleme\",className:\"file-thumbnail\",onLoad:e=>{console.log('âœ… Thumbnail baÅŸarÄ±yla yÃ¼klendi:',e.target.src);const icon=e.target.nextElementSibling;if(icon){icon.style.display='none';}}})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"file-icon \".concat(previewUrl?'fallback':''),style:{display:previewUrl?'none':'flex'},children:/*#__PURE__*/_jsx(\"i\",{className:getFileIcon(file)})}),file.one_time_view&&/*#__PURE__*/_jsx(\"div\",{className:\"one-time-badge\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-name\",title:fileName,children:fileName}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-date\",children:new Date(file.uploaded_at).toLocaleDateString('tr-TR')}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-size\",children:[fileSizeMB,\" MB\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-tags\",children:[file.one_time_view&&/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" Tek Seferlik\"]}),file.is_public?/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"}),\" Herkese A\\xE7\\u0131k\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-private\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" Gizli\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-actions compact\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDownloadFile(file);},className:\"btn btn-primary btn-small\",title:\"Dosyay\\u0131 indir\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleShareClick(file);},className:\"btn btn-share btn-small\",title:\"Dosyay\\u0131 payla\\u015F\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-share-alt\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteFile(file.id);},className:\"btn btn-danger btn-small\",title:\"Dosyay\\u0131 sil\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]})},file.id):/*#__PURE__*/// âœ… Normal dosyalar iÃ§in SecureViewer kullanma\n_jsxs(\"div\",{className:\"file-card\",onClick:()=>handleViewFile(file),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-preview\",children:[previewUrl?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:previewUrl,alt:\"\\xD6nizleme\",className:\"file-thumbnail\",onLoad:e=>{console.log('âœ… Thumbnail baÅŸarÄ±yla yÃ¼klendi:',e.target.src);const icon=e.target.nextElementSibling;if(icon){icon.style.display='none';}}})}):null,/*#__PURE__*/_jsx(\"div\",{className:\"file-icon \".concat(previewUrl?'fallback':''),style:{display:previewUrl?'none':'flex'},children:/*#__PURE__*/_jsx(\"i\",{className:getFileIcon(file)})}),file.one_time_view&&/*#__PURE__*/_jsx(\"div\",{className:\"one-time-badge\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-info\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-name\",title:fileName,children:fileName}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-date\",children:new Date(file.uploaded_at).toLocaleDateString('tr-TR')}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-size\",children:[fileSizeMB,\" MB\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-tags\",children:[file.one_time_view&&/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-warning\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-eye\"}),\" Tek Seferlik\"]}),file.is_public?/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-users\"}),\" Herkese A\\xE7\\u0131k\"]}):/*#__PURE__*/_jsxs(\"span\",{className:\"tag tag-private\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" Gizli\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-actions compact\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDownloadFile(file);},className:\"btn btn-primary btn-small\",title:\"Dosyay\\u0131 indir\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-download\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleShareClick(file);},className:\"btn btn-share btn-small\",title:\"Dosyay\\u0131 payla\\u015F\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-share-alt\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();handleDeleteFile(file.id);},className:\"btn btn-danger btn-small\",title:\"Dosyay\\u0131 sil\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},file.id));})}),renderShareModal(),renderFileViewer()]})]});};export default ChunkDownloader;","map":{"version":3,"names":["React","useState","useEffect","useAuth","SecureViewer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","BrainMemoryVisualization","_ref","percentage","used","remaining","className","children","style","height","concat","toFixed","StoragePieChart","_ref2","ChunkDownloader","_ref3","apiBase","userEmail","user","logout","files","setFiles","canDownload","setCanDownload","uploading","setUploading","selectedFile","setSelectedFile","viewOption","setViewOption","privacyOption","setPrivacyOption","totalStorage","setTotalStorage","viewDuration","setViewDuration","sharingFile","setSharingFile","shareLinks","setShareLinks","memoryUsage","setMemoryUsage","viewingFile","setViewingFile","viewDurationOptions","value","label","description","getToken","token","localStorage","getItem","console","log","getBaseUrl","replace","getShareUrl","file","baseUrl","view_token","interval","setInterval","Math","random","clearInterval","fetchFiles","response","fetch","method","headers","status","ok","userFiles","json","totalSize","forEach","file_size","fileName","file_name","split","pop","toLowerCase","match","error","errorText","text","alert","handleFileUpload","e","preventDefault","maxSize","size","formData","FormData","append","body","result","document","getElementById","handleDeleteFile","fileId","confirm","handleDownloadFile","fileUrl","file_url","startsWith","id","window","open","handleViewFile","handleCloseViewer","fetchShareLinks","shares","createShareLink","shareType","expiresHours","arguments","length","undefined","maxViews","password","shareData","share_type","max_views","expiresAt","Date","setHours","getHours","expires_at","toISOString","JSON","stringify","newShare","prev","revokeShare","shareId","filter","share","handleShareClick","shareUrl","navigator","clipboard","writeText","copyToClipboard","then","shareOnWhatsApp","url","encodeURIComponent","shareOnInstagram","shareOnCloudDM","share_url","getFileIcon","one_time_view","getFilePreview","isImage","thumbnailStyles","createElement","textContent","head","appendChild","removeChild","renderShareModal","onClick","prompt","map","view_count","type","readOnly","renderFileViewer","_viewingFile$file_nam","position","top","left","width","background","display","alignItems","justifyContent","zIndex","borderRadius","padding","maxWidth","maxHeight","border","boxShadow","right","color","cursor","fontSize","fontWeight","textAlign","marginBottom","overflow","endsWith","src","controls","onContextMenu","alt","objectFit","marginTop","opacity","maxStorage","storagePercentage","min","usedGB","remainingGB","memoryPercentage","remainingMemory","index","name","file_field","preview_url","full_data","onSubmit","onChange","target","disabled","option","previewUrl","fileSizeMB","onLoad","icon","nextElementSibling","title","uploaded_at","toLocaleDateString","is_public","stopPropagation"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/components/ChunkDownloader.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../AuthContext\";\r\nimport \"./ChunkDownloader.css\";\r\nimport SecureViewer from './SecureViewer';\r\n\r\nconst BrainMemoryVisualization = ({ percentage, used, remaining }) => {\r\n    return (\r\n        <div className=\"brain-memory\">\r\n            <h3>ðŸ§  Yapay HafÄ±za</h3>\r\n            <div className=\"brain-container\">\r\n                <div className=\"brain-fill-container\">\r\n                    <div\r\n                        className=\"brain-fill\"\r\n                        style={{ height: `${percentage}%` }}\r\n                    ></div>\r\n                </div>\r\n                <div className=\"brain-image\"></div>\r\n                <div className=\"brain-percentage\">\r\n                    {percentage.toFixed(1)}%\r\n                </div>\r\n            </div>\r\n            <div className=\"memory-info\">\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-value\">{used.toFixed(1)} GB</div>\r\n                    <div className=\"info-label\">KullanÄ±lan</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-value\">{remaining.toFixed(1)} GB</div>\r\n                    <div className=\"info-label\">Kalan</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst StoragePieChart = ({ percentage, used, remaining }) => {\r\n    return (\r\n        <div className=\"storage-pie\">\r\n            <h3>ðŸ’¾ Depolama AlanÄ±</h3>\r\n            <div\r\n                className=\"pie-chart\"\r\n                style={{ '--percentage': `${percentage}%` }}\r\n            >\r\n                <span className=\"percentage\">{percentage.toFixed(1)}%</span>\r\n            </div>\r\n            <div className=\"memory-info\">\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-value\">{used} GB</div>\r\n                    <div className=\"info-label\">KullanÄ±lan</div>\r\n                </div>\r\n                <div className=\"info-item\">\r\n                    <div className=\"info-value\">{remaining} GB</div>\r\n                    <div className=\"info-label\">Kalan</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ChunkDownloader = ({ apiBase, userEmail }) => {\r\n    const { user, logout } = useAuth();\r\n    const [files, setFiles] = useState([]);\r\n    const [canDownload, setCanDownload] = useState(true);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [selectedFile, setSelectedFile] = useState(null);\r\n    const [viewOption, setViewOption] = useState('standard');\r\n    const [privacyOption, setPrivacyOption] = useState('private');\r\n    const [totalStorage, setTotalStorage] = useState(0);\r\n    const [viewDuration, setViewDuration] = useState('10s');\r\n    const [sharingFile, setSharingFile] = useState(null);\r\n    const [shareLinks, setShareLinks] = useState([]);\r\n    const [memoryUsage, setMemoryUsage] = useState(0);\r\n    const [viewingFile, setViewingFile] = useState(null); // Yeni state: gÃ¶rÃ¼ntÃ¼lenen dosya\r\n\r\n    const viewDurationOptions = [\r\n        { value: '10s', label: '10 Saniye', description: 'Medya 10 saniye gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r' },\r\n        { value: '30s', label: '30 Saniye', description: 'Medya 30 saniye gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r' },\r\n        { value: '1m', label: '1 Dakika', description: 'Medya 1 dakika gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r' },\r\n        { value: '5m', label: '5 Dakika', description: 'Medya 5 dakika gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r' },\r\n        { value: '1h', label: '1 Saat', description: 'Medya 1 saat gÃ¶rÃ¼ntÃ¼lendikten sonra kapanÄ±r' },\r\n        { value: 'video', label: 'Video SÃ¼resi', description: 'Sadece video sÃ¼resi boyunca gÃ¶rÃ¼ntÃ¼lenir' },\r\n        { value: 'unlimited', label: 'SÃ¼resiz', description: 'Manuel olarak kapatÄ±lana kadar aÃ§Ä±k kalÄ±r' },\r\n    ];\r\n\r\n    const getToken = () => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            console.log('âŒ Token bulunamadÄ±');\r\n            return null;\r\n        }\r\n        return token;\r\n    };\r\n\r\n    const getBaseUrl = () => {\r\n        return apiBase.replace('/api', '');\r\n    };\r\n\r\n    const getShareUrl = (file) => {\r\n        // Ã–NEMLÄ°: file.view_token kullanÄ±yoruz!\r\n        const baseUrl = getBaseUrl();\r\n        return `${baseUrl}/share/${file.view_token}/`;\r\n    };\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setMemoryUsage(Math.random() * 8 + 2);\r\n        }, 5000);\r\n        return () => clearInterval(interval);\r\n    }, []);\r\n\r\n    const fetchFiles = async () => {\r\n        const token = getToken();\r\n        if (!token) {\r\n            logout();\r\n            return;\r\n        }\r\n\r\n        try {\r\n            console.log('ðŸ”„ Dosyalar Ã§ekiliyor...');\r\n            const response = await fetch(`${apiBase}/files/`, {\r\n                method: 'GET',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json',\r\n                }\r\n            });\r\n\r\n            console.log('ðŸ“¡ Dosya response status:', response.status);\r\n\r\n            if (response.ok) {\r\n                const userFiles = await response.json();\r\n                console.log('âœ… Dosya verisi:', userFiles);\r\n                setFiles(userFiles);\r\n\r\n                let totalSize = 0;\r\n                userFiles.forEach(file => {\r\n                    if (file.file_size && file.file_size > 0) {\r\n                        totalSize += file.file_size;\r\n                    } else {\r\n                        const fileName = file.file_name || (file.file ? file.file.split('/').pop().toLowerCase() : '');\r\n                        if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/)) {\r\n                            totalSize += 500 * 1024;\r\n                        } else {\r\n                            totalSize += 1024 * 1024;\r\n                        }\r\n                    }\r\n                });\r\n                setTotalStorage(totalSize);\r\n            } else if (response.status === 401) {\r\n                console.log('âŒ Token geÃ§ersiz');\r\n                logout();\r\n            } else if (response.status === 500) {\r\n                console.error('âŒ Sunucu hatasÄ±:', response.status);\r\n                const errorText = await response.text();\r\n                console.error('Sunucu hata detayÄ±:', errorText);\r\n                alert('Sunucu hatasÄ± oluÅŸtu. LÃ¼tfen daha sonra tekrar deneyin.');\r\n            } else {\r\n                console.log('âš ï¸ Dosyalar alÄ±namadÄ±, status:', response.status);\r\n                setFiles([]);\r\n            }\r\n        } catch (error) {\r\n            console.error('âŒ Dosyalar yÃ¼klenirken hata:', error);\r\n            setFiles([]);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchFiles();\r\n    }, []);\r\n\r\n    // handleFileUpload fonksiyonunu dÃ¼zgÃ¼n ÅŸekilde tanÄ±mla\r\n    const handleFileUpload = async (e) => {\r\n        e.preventDefault();\r\n\r\n        const token = getToken();\r\n        if (!token) {\r\n            alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');\r\n            logout();\r\n            return;\r\n        }\r\n\r\n        if (!selectedFile) {\r\n            alert(\"LÃ¼tfen bir dosya seÃ§in\");\r\n            return;\r\n        }\r\n\r\n        // Dosya boyutu kontrolÃ¼ (10 GB)\r\n        const maxSize = 10 * 1024 * 1024 * 1024;\r\n        if (selectedFile.size > maxSize) {\r\n            alert('Dosya boyutu Ã§ok bÃ¼yÃ¼k! Maksimum 10 GB dosya yÃ¼kleyebilirsiniz.');\r\n            return;\r\n        }\r\n\r\n        // Toplam depolama kontrolÃ¼\r\n        if (totalStorage + selectedFile.size > maxSize) {\r\n            alert('Depolama alanÄ± yetersiz! LÃ¼tfen bazÄ± dosyalarÄ± silin.');\r\n            return;\r\n        }\r\n\r\n        setUploading(true);\r\n\r\n        const formData = new FormData();\r\n        formData.append('file', selectedFile);\r\n        formData.append('can_download', canDownload);\r\n        formData.append('one_time_view', viewOption === 'one_time');\r\n        formData.append('is_public', privacyOption === 'public');\r\n\r\n        // GÃ¶rÃ¼ntÃ¼leme sÃ¼resini ekle\r\n        if (viewOption === 'one_time') {\r\n            formData.append('view_duration', viewDuration);\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`${apiBase}/files/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                },\r\n                body: formData\r\n            });\r\n\r\n            if (response.ok) {\r\n                const result = await response.json();\r\n                alert('Dosya baÅŸarÄ±yla yÃ¼klenmiÅŸtir!');\r\n                setSelectedFile(null);\r\n                setViewOption('standard');\r\n                setViewDuration('10s');\r\n                setPrivacyOption('private');\r\n                if (document.getElementById('file-input')) {\r\n                    document.getElementById('file-input').value = '';\r\n                }\r\n                fetchFiles();\r\n            } else if (response.status === 401) {\r\n                alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');\r\n                logout();\r\n            } else {\r\n                alert('Dosya yÃ¼klenirken bir hata oluÅŸtu. LÃ¼tfen tekrar deneyin.');\r\n            }\r\n        } catch (error) {\r\n            console.error('âŒ YÃ¼kleme hatasÄ±:', error);\r\n            alert('Dosya yÃ¼klenirken baÄŸlantÄ± hatasÄ± oluÅŸtu');\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const handleDeleteFile = async (fileId) => {\r\n        const token = getToken();\r\n        if (!token) {\r\n            alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');\r\n            logout();\r\n            return;\r\n        }\r\n\r\n        if (!confirm('Bu dosyayÄ± silmek istediÄŸinizden emin misiniz?')) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const response = await fetch(`${apiBase}/files/${fileId}/`, {\r\n                method: 'DELETE',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                alert('Dosya baÅŸarÄ±yla silindi');\r\n                fetchFiles();\r\n            } else if (response.status === 401) {\r\n                logout();\r\n            } else {\r\n                alert('Silme iÅŸlemi baÅŸarÄ±sÄ±z: ' + response.status);\r\n            }\r\n        } catch (error) {\r\n            console.error('Silme hatasÄ±:', error);\r\n            alert('Dosya silinirken hata oluÅŸtu');\r\n        }\r\n    };\r\n\r\n    const handleDownloadFile = async (file) => {\r\n        const token = getToken();\r\n        if (!token) {\r\n            alert('Oturumunuz sona ermiÅŸ. LÃ¼tfen tekrar giriÅŸ yapÄ±n.');\r\n            logout();\r\n            return;\r\n        }\r\n\r\n        try {\r\n            let fileUrl;\r\n\r\n            if (file.file_url) {\r\n                fileUrl = file.file_url;\r\n            }\r\n            else if (file.file) {\r\n                if (file.file.startsWith('http')) {\r\n                    fileUrl = file.file;\r\n                } else if (file.file.startsWith('/')) {\r\n                    const baseUrl = getBaseUrl();\r\n                    fileUrl = `${baseUrl}${file.file}`;\r\n                }\r\n            }\r\n            else {\r\n                fileUrl = `${apiBase}/files/${file.id}/download/`;\r\n            }\r\n\r\n            console.log('ðŸ“¥ Ä°ndirme URL:', fileUrl);\r\n            window.open(fileUrl, '_blank');\r\n        } catch (error) {\r\n            console.error('Ä°ndirme hatasÄ±:', error);\r\n            alert('Dosya indirilirken hata oluÅŸtu');\r\n        }\r\n    };\r\n\r\n    const handleViewFile = (file) => {\r\n        // DosyayÄ± gÃ¶rÃ¼ntÃ¼leme modunda aÃ§\r\n        setViewingFile(file);\r\n    };\r\n\r\n    const handleCloseViewer = () => {\r\n        // GÃ¶rÃ¼ntÃ¼leyiciyi kapat\r\n        setViewingFile(null);\r\n    };\r\n\r\n    // PaylaÅŸÄ±m fonksiyonlarÄ±\r\n    const fetchShareLinks = async (fileId) => {\r\n        const token = getToken();\r\n        try {\r\n            const response = await fetch(`${apiBase}/shares/?file=${fileId}`, {\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            });\r\n            if (response.ok) {\r\n                const shares = await response.json();\r\n                setShareLinks(shares);\r\n            }\r\n        } catch (error) {\r\n            console.error('PaylaÅŸÄ±m linkleri yÃ¼klenemedi:', error);\r\n        }\r\n    };\r\n\r\n    const createShareLink = async (fileId, shareType, expiresHours = 24, maxViews = 1, password = '') => {\r\n        const token = getToken();\r\n        try {\r\n            const shareData = {\r\n                file: fileId,\r\n                share_type: shareType,\r\n                max_views: maxViews\r\n            };\r\n\r\n            if (expiresHours) {\r\n                const expiresAt = new Date();\r\n                expiresAt.setHours(expiresAt.getHours() + expiresHours);\r\n                shareData.expires_at = expiresAt.toISOString();\r\n            }\r\n\r\n            if (password) {\r\n                shareData.password = password;\r\n            }\r\n\r\n            const response = await fetch(`${apiBase}/shares/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify(shareData)\r\n            });\r\n\r\n            if (response.ok) {\r\n                const newShare = await response.json();\r\n                setShareLinks(prev => [...prev, newShare]);\r\n                return newShare;\r\n            }\r\n        } catch (error) {\r\n            console.error('PaylaÅŸÄ±m oluÅŸturulamadÄ±:', error);\r\n        }\r\n        return null;\r\n    };\r\n\r\n    const revokeShare = async (shareId) => {\r\n        const token = getToken();\r\n        try {\r\n            const response = await fetch(`${apiBase}/shares/${shareId}/revoke/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${token}`,\r\n                }\r\n            });\r\n\r\n            if (response.ok) {\r\n                setShareLinks(prev => prev.filter(share => share.id !== shareId));\r\n            }\r\n        } catch (error) {\r\n            console.error('PaylaÅŸÄ±m iptal edilemedi:', error);\r\n        }\r\n    };\r\n\r\n    const handleShareClick = async (file) => {\r\n        // Debug iÃ§in\r\n        console.log('ðŸ”— PaylaÅŸÄ±m dosyasÄ±:', file);\r\n\r\n        const shareUrl = getShareUrl(file);\r\n\r\n        // Linki kopyala ve bilgi ver\r\n        navigator.clipboard.writeText(shareUrl);\r\n        alert(`âœ… PaylaÅŸÄ±m linki kopyalandÄ±!\\n\\nLink: ${shareUrl}\\n\\nBu linki istediÄŸiniz kiÅŸiyle paylaÅŸabilirsiniz.`);\r\n\r\n        // Modal'Ä± kapat\r\n        setSharingFile(null);\r\n    };\r\n\r\n    const copyToClipboard = (text) => {\r\n        navigator.clipboard.writeText(text).then(() => {\r\n            alert('Link panoya kopyalandÄ±!');\r\n        });\r\n    };\r\n\r\n    const shareOnWhatsApp = (url) => {\r\n        const text = `DosyayÄ± gÃ¶rÃ¼ntÃ¼le: ${url}`;\r\n        window.open(`https://wa.me/?text=${encodeURIComponent(text)}`, '_blank');\r\n    };\r\n\r\n    const shareOnInstagram = (url) => {\r\n        const text = `Bu dosyayÄ± gÃ¶rÃ¼ntÃ¼le: ${url}`;\r\n        window.open(`https://instagram.com/direct?text=${encodeURIComponent(text)}`, '_blank');\r\n    };\r\n\r\n    const shareOnCloudDM = (share) => {\r\n        alert(`Cloud DM paylaÅŸÄ±mÄ±: ${share.share_url}\\nBu Ã¶zellik uygulamanÄ±zÄ±n mesajlaÅŸma sistemine entegre edilebilir.`);\r\n    };\r\n\r\n    const getFileIcon = (file) => {\r\n        const fileName = file.file_name || (file.file ? file.file.split('/').pop().toLowerCase() : '');\r\n\r\n        if (file.one_time_view) {\r\n            return 'fas fa-lock';\r\n        }\r\n\r\n        if (fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/)) {\r\n            return 'fas fa-image';\r\n        } else if (fileName.match(/\\.(mp4|avi|mov|wmv|flv|mkv)$/)) {\r\n            return 'fas fa-video';\r\n        } else if (fileName.match(/\\.(mp3|wav|ogg|flac)$/)) {\r\n            return 'fas fa-music';\r\n        } else if (fileName.match(/\\.(pdf)$/)) {\r\n            return 'fas fa-file-pdf';\r\n        } else if (fileName.match(/\\.(doc|docx)$/)) {\r\n            return 'fas fa-file-word';\r\n        } else if (fileName.match(/\\.(xls|xlsx)$/)) {\r\n            return 'fas fa-file-excel';\r\n        } else if (fileName.match(/\\.(zip|rar|7z|tar|gz)$/)) {\r\n            return 'fas fa-file-archive';\r\n        } else if (fileName.match(/\\.(exe|msi)$/)) {\r\n            return 'fas fa-cog';\r\n        } else if (fileName.match(/\\.(txt|rtf)$/)) {\r\n            return 'fas fa-file-alt';\r\n        } else {\r\n            return 'fas fa-file';\r\n        }\r\n    };\r\n\r\n    const getFilePreview = (file) => {\r\n        const fileName = file.file_name || (file.file ? file.file.split('/').pop().toLowerCase() : '');\r\n        const isImage = fileName.match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/);\r\n\r\n        console.log('ðŸ” Preview iÃ§in dosya analizi:', {\r\n            fileName,\r\n            isImage,\r\n            file_url: file.file_url,\r\n            file: file.file,\r\n            id: file.id\r\n        });\r\n\r\n        if (!isImage) {\r\n            return null;\r\n        }\r\n\r\n        // Ã–ncelikle doÄŸrudan file_url'i kullan\r\n        if (file.file_url) {\r\n            console.log('âœ… file_url kullanÄ±lÄ±yor:', file.file_url);\r\n            return file.file_url;\r\n        }\r\n\r\n        // Sonra file alanÄ±nÄ± kullan\r\n        if (file.file) {\r\n            console.log('âœ… file alanÄ± kullanÄ±lÄ±yor:', file.file);\r\n            return file.file;\r\n        }\r\n\r\n        console.log('âŒ HiÃ§bir URL yÃ¶ntemi Ã§alÄ±ÅŸmadÄ±');\r\n        return null;\r\n    };\r\n\r\n    // Thumbnail gÃ¶sterimini iyileÅŸtiren CSS\r\n    const thumbnailStyles = `\r\n.file-preview {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 120px;\r\n    background: #f8fafc;\r\n    border-radius: 8px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-bottom: 12px;\r\n    overflow: hidden;\r\n    border: 1px solid #e5e7eb;\r\n    cursor: pointer;\r\n}\r\n\r\n.file-thumbnail {\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.file-thumbnail:hover {\r\n    transform: scale(1.05);\r\n}\r\n\r\n.file-icon.fallback {\r\n    font-size: 2.5rem;\r\n    color: #6b7280;\r\n}\r\n\r\n.one-time-badge {\r\n    position: absolute;\r\n    top: 8px;\r\n    right: 8px;\r\n    background: rgba(239, 68, 68, 0.9);\r\n    color: white;\r\n    padding: 4px 8px;\r\n    border-radius: 4px;\r\n    font-size: 0.7rem;\r\n    z-index: 2;\r\n}\r\n\r\n/* TÄ±klanabilir dosya kartÄ± */\r\n.file-card {\r\n    cursor: pointer;\r\n    transition: all 0.3s ease;\r\n}\r\n\r\n.file-card:hover {\r\n    transform: translateY(-2px);\r\n    box-shadow: 0 8px 25px rgba(0,0,0,0.1);\r\n}\r\n\r\n/* Dosya bilgisi iÃ§in pointer events none */\r\n.file-info, .file-actions {\r\n    pointer-events: none;\r\n}\r\n\r\n/* Butonlar iÃ§in pointer events auto */\r\n.file-actions .btn {\r\n    pointer-events: auto;\r\n}\r\n`;\r\n\r\n    // CSS'i head'e ekle\r\n    useEffect(() => {\r\n        const style = document.createElement('style');\r\n        style.textContent = thumbnailStyles;\r\n        document.head.appendChild(style);\r\n        return () => {\r\n            document.head.removeChild(style);\r\n        };\r\n    }, []);\r\n\r\n    // PaylaÅŸÄ±m modal'Ä±\r\n    const renderShareModal = () => {\r\n        if (!sharingFile) return null;\r\n\r\n        return (\r\n            <div className=\"modal-overlay\">\r\n                <div className=\"share-modal\">\r\n                    <div className=\"modal-header\">\r\n                        <h3>ðŸ“¤ DosyayÄ± PaylaÅŸ</h3>\r\n                        <button onClick={() => setSharingFile(null)} className=\"close-btn\">\r\n                            <i className=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n\r\n                    <div className=\"modal-content\">\r\n                        {/* Yeni paylaÅŸÄ±m oluÅŸturma */}\r\n                        <div className=\"create-share-section\">\r\n                            <h4>Yeni PaylaÅŸÄ±m OluÅŸtur</h4>\r\n                            <div className=\"share-options\">\r\n                                <button\r\n                                    onClick={() => createShareLink(sharingFile.id, 'public')}\r\n                                    className=\"share-option-btn\"\r\n                                >\r\n                                    <i className=\"fas fa-globe\"></i>\r\n                                    <span>Herkese AÃ§Ä±k Link</span>\r\n                                    <small>Herkes gÃ¶rÃ¼ntÃ¼leyebilir</small>\r\n                                </button>\r\n\r\n                                <button\r\n                                    onClick={() => createShareLink(sharingFile.id, 'one_time', 24, 1)}\r\n                                    className=\"share-option-btn\"\r\n                                >\r\n                                    <i className=\"fas fa-eye\"></i>\r\n                                    <span>Tek KullanÄ±mlÄ±k</span>\r\n                                    <small>Sadece 1 kez gÃ¶rÃ¼ntÃ¼lenebilir</small>\r\n                                </button>\r\n\r\n                                <button\r\n                                    onClick={() => {\r\n                                        const password = prompt('Åžifre belirleyin:');\r\n                                        if (password) {\r\n                                            createShareLink(sharingFile.id, 'private', 168, 10, password);\r\n                                        }\r\n                                    }}\r\n                                    className=\"share-option-btn\"\r\n                                >\r\n                                    <i className=\"fas fa-lock\"></i>\r\n                                    <span>Åžifreli PaylaÅŸÄ±m</span>\r\n                                    <small>Åžifre gerektirir</small>\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Aktif paylaÅŸÄ±mlar */}\r\n                        <div className=\"active-shares-section\">\r\n                            <h4>Aktif PaylaÅŸÄ±mlar</h4>\r\n                            {shareLinks.length === 0 ? (\r\n                                <p className=\"no-shares\">HenÃ¼z paylaÅŸÄ±m linki oluÅŸturulmamÄ±ÅŸ</p>\r\n                            ) : (\r\n                                <div className=\"shares-list\">\r\n                                    {shareLinks.map(share => (\r\n                                        <div key={share.id} className=\"share-item\">\r\n                                            <div className=\"share-info\">\r\n                                                <div className=\"share-type\">\r\n                                                    <i className={`fas ${share.share_type === 'public' ? 'fa-globe' :\r\n                                                        share.share_type === 'one_time' ? 'fa-eye' : 'fa-lock'\r\n                                                        }`}></i>\r\n                                                    {share.share_type}\r\n                                                </div>\r\n                                                <div className=\"share-stats\">\r\n                                                    GÃ¶rÃ¼ntÃ¼lenme: {share.view_count}/{share.max_views}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"share-url\">\r\n                                                <input\r\n                                                    type=\"text\"\r\n                                                    value={share.share_url}\r\n                                                    readOnly\r\n                                                    className=\"url-input\"\r\n                                                />\r\n                                                <div className=\"share-actions\">\r\n                                                    <button\r\n                                                        onClick={() => copyToClipboard(share.share_url)}\r\n                                                        className=\"action-btn copy\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-copy\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => shareOnWhatsApp(share.share_url)}\r\n                                                        className=\"action-btn whatsapp\"\r\n                                                    >\r\n                                                        <i className=\"fab fa-whatsapp\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => shareOnInstagram(share.share_url)}\r\n                                                        className=\"action-btn instagram\"\r\n                                                    >\r\n                                                        <i className=\"fab fa-instagram\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => shareOnCloudDM(share)}\r\n                                                        className=\"action-btn cloud\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-cloud\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={() => revokeShare(share.id)}\r\n                                                        className=\"action-btn delete\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-trash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Dosya gÃ¶rÃ¼ntÃ¼leyici modal'Ä±\r\n    const renderFileViewer = () => {\r\n        if (!viewingFile) return null;\r\n\r\n        console.log(\"ðŸ” Modal aÃ§Ä±ldÄ± - Dosya:\", viewingFile);\r\n\r\n        return (\r\n            <div className=\"modal-overlay\" style={{\r\n                position: 'fixed',\r\n                top: 0,\r\n                left: 0,\r\n                width: '100%',\r\n                height: '100%',\r\n                background: 'rgba(0,0,0,0.98)',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center',\r\n                zIndex: 10000\r\n            }}>\r\n                <div style={{\r\n                    background: '#0a0a0a',\r\n                    borderRadius: '12px',\r\n                    padding: '25px',\r\n                    maxWidth: '95%',\r\n                    maxHeight: '95%',\r\n                    position: 'relative',\r\n                    border: '3px solid #ff4444',\r\n                    boxShadow: '0 0 50px rgba(255,0,0,0.3)'\r\n                }}>\r\n                    <button\r\n                        onClick={handleCloseViewer}\r\n                        style={{\r\n                            position: 'absolute',\r\n                            top: '15px',\r\n                            right: '15px',\r\n                            background: '#ff4444',\r\n                            color: 'white',\r\n                            border: 'none',\r\n                            borderRadius: '50%',\r\n                            width: '40px',\r\n                            height: '40px',\r\n                            cursor: 'pointer',\r\n                            fontSize: '18px',\r\n                            fontWeight: 'bold',\r\n                            zIndex: 10001\r\n                        }}\r\n                    >\r\n                        âœ•\r\n                    </button>\r\n\r\n                    <div style={{\r\n                        color: '#ff4444',\r\n                        textAlign: 'center',\r\n                        marginBottom: '15px',\r\n                        fontSize: '16px',\r\n                        fontWeight: 'bold'\r\n                    }}>\r\n                        {viewingFile.one_time_view ? \"ðŸ”’ GÃœVENLÄ° GÃ–RÃœNTÃœLEYÄ°CÄ°\" : \"ðŸ“ NORMAL GÃ–RÃœNTÃœLEYÄ°CÄ°\"}\r\n                    </div>\r\n\r\n                    {/* âœ… MUTLAKA SecureViewer ile sarmala */}\r\n                    <SecureViewer file={viewingFile}>\r\n                        <div style={{\r\n                            maxWidth: '100%',\r\n                            maxHeight: '80vh',\r\n                            borderRadius: '8px',\r\n                            overflow: 'hidden',\r\n                            background: '#000'\r\n                        }}>\r\n                            {viewingFile.file_name?.toLowerCase().endsWith('.mp4') ? (\r\n                                <video\r\n                                    src={getShareUrl(viewingFile)}\r\n                                    controls\r\n                                    style={{\r\n                                        maxWidth: '100%',\r\n                                        maxHeight: '70vh',\r\n                                        display: 'block'\r\n                                    }}\r\n                                    onContextMenu={(e) => e.preventDefault()}\r\n                                />\r\n                            ) : (\r\n                                <img\r\n                                    src={getShareUrl(viewingFile)}\r\n                                    alt={viewingFile.file_name}\r\n                                    style={{\r\n                                        maxWidth: '100%',\r\n                                        maxHeight: '70vh',\r\n                                        objectFit: 'contain',\r\n                                        display: 'block'\r\n                                    }}\r\n                                    onContextMenu={(e) => e.preventDefault()}\r\n                                />\r\n                            )}\r\n                        </div>\r\n                    </SecureViewer>\r\n\r\n                    <div style={{\r\n                        color: '#fff',\r\n                        textAlign: 'center',\r\n                        marginTop: '15px',\r\n                        fontSize: '12px',\r\n                        opacity: 0.7\r\n                    }}>\r\n                        {viewingFile.one_time_view\r\n                            ? \"âš ï¸ Bu iÃ§erik korumalÄ±dÄ±r. Ekran gÃ¶rÃ¼ntÃ¼sÃ¼ alÄ±namaz.\"\r\n                            : \"Bu iÃ§erik korumasÄ±zdÄ±r.\"}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    // Depolama alanÄ± yÃ¼zdesini hesapla\r\n    const maxStorage = 10 * 1024 * 1024 * 1024;\r\n    const storagePercentage = Math.min((totalStorage / maxStorage) * 100, 100);\r\n    const usedGB = (totalStorage / (1024 * 1024 * 1024)).toFixed(2);\r\n    const remainingGB = (10 - usedGB).toFixed(2);\r\n    const memoryPercentage = Math.min((memoryUsage / 10) * 100, 100);\r\n    const remainingMemory = 10 - memoryUsage;\r\n\r\n    // Debug iÃ§in: TÃ¼m dosya bilgilerini konsola yazdÄ±r\r\n    useEffect(() => {\r\n        if (files.length > 0) {\r\n            console.log('ðŸ“ TÃ¼m Dosya Bilgileri:', files);\r\n            files.forEach((file, index) => {\r\n                console.log(`ðŸ“„ Dosya ${index + 1}:`, {\r\n                    id: file.id,\r\n                    name: file.file_name,\r\n                    file_field: file.file,\r\n                    file_url: file.file_url,\r\n                    preview_url: getFilePreview(file),\r\n                    full_data: file\r\n                });\r\n            });\r\n        }\r\n    }, [files]);\r\n\r\n    return (\r\n        <div className=\"chunk-downloader\">\r\n            <div className=\"cloud-header\">\r\n                <h2>\r\n                    <i className=\"fas fa-cloud-upload-alt\"></i>\r\n                    Bulutum - Dosya YÃ¶neticisi\r\n                </h2>\r\n                <p>DosyalarÄ±nÄ±zÄ± yÃ¼kleyin ve yÃ¶netin</p>\r\n            </div>\r\n\r\n            {/* Depolama ve HafÄ±za GÃ¶rselleÅŸtirme */}\r\n            <div className=\"storage-visualization\">\r\n                <StoragePieChart\r\n                    percentage={storagePercentage}\r\n                    used={usedGB}\r\n                    remaining={remainingGB}\r\n                />\r\n\r\n                <BrainMemoryVisualization\r\n                    percentage={memoryPercentage}\r\n                    used={memoryUsage}\r\n                    remaining={remainingMemory}\r\n                />\r\n            </div>\r\n\r\n            {/* Dosya YÃ¼kleme Formu */}\r\n            <div className=\"upload-section\">\r\n                <h3>ðŸ“ Dosya YÃ¼kle</h3>\r\n                <form onSubmit={handleFileUpload} className=\"upload-form\">\r\n                    <div className=\"file-input-group\">\r\n                        <label className=\"file-input-label\">\r\n                            <input\r\n                                id=\"file-input\"\r\n                                type=\"file\"\r\n                                onChange={(e) => setSelectedFile(e.target.files[0])}\r\n                                disabled={uploading}\r\n                            />\r\n                            <div className=\"file-input-custom\">\r\n                                <i className=\"fas fa-cloud-upload-alt\"></i>\r\n                                {selectedFile ? selectedFile.name : \"Dosya SeÃ§...\"}\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n\r\n                    {/* GÃ¶rÃ¼nÃ¼m SeÃ§enekleri */}\r\n                    <div className=\"upload-option-group\">\r\n                        <label className=\"option-label\">ðŸ‘ï¸ GÃ¶rÃ¼nÃ¼m</label>\r\n                        <div className=\"option-buttons\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className={`option-button ${viewOption === 'standard' ? 'active' : ''}`}\r\n                                onClick={() => setViewOption('standard')}\r\n                            >\r\n                                Standart\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                className={`option-button ${viewOption === 'one_time' ? 'active' : ''}`}\r\n                                onClick={() => setViewOption('one_time')}\r\n                            >\r\n                                Tek Seferlik\r\n                            </button>\r\n                        </div>\r\n                        <div className=\"option-description\">\r\n                            {viewOption === 'one_time'\r\n                                ? \"Dosya sadece bir kez gÃ¶rÃ¼ntÃ¼lenebilir\"\r\n                                : \"Dosya standart ÅŸekilde paylaÅŸÄ±lÄ±r\"\r\n                            }\r\n                        </div>\r\n\r\n                        {/* GÃ¶rÃ¼ntÃ¼leme SÃ¼resi SeÃ§enekleri - Sadece Tek Seferlik seÃ§ildiÄŸinde gÃ¶rÃ¼necek */}\r\n                        {viewOption === 'one_time' && (\r\n                            <div className=\"upload-option-group\">\r\n                                <label className=\"option-label\">â±ï¸ GÃ¶rÃ¼ntÃ¼leme SÃ¼resi</label>\r\n                                <div className=\"duration-options\">\r\n                                    {viewDurationOptions.map(option => (\r\n                                        <div\r\n                                            key={option.value}\r\n                                            className={`duration-option ${viewDuration === option.value ? 'active' : ''}`}\r\n                                            onClick={() => setViewDuration(option.value)}\r\n                                        >\r\n                                            <div className=\"duration-radio\">\r\n                                                <div className=\"radio-dot\"></div>\r\n                                            </div>\r\n                                            <div className=\"duration-info\">\r\n                                                <div className=\"duration-label\">{option.label}</div>\r\n                                                <div className=\"duration-description\">{option.description}</div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Gizlilik SeÃ§enekleri */}\r\n                    <div className=\"upload-option-group\">\r\n                        <label className=\"option-label\">ðŸ”’ Gizlilik</label>\r\n                        <div className=\"option-buttons\">\r\n                            <button\r\n                                type=\"button\"\r\n                                className={`option-button ${privacyOption === 'public' ? 'active' : ''}`}\r\n                                onClick={() => setPrivacyOption('public')}\r\n                            >\r\n                                Herkese AÃ§Ä±k\r\n                            </button>\r\n                            <button\r\n                                type=\"button\"\r\n                                className={`option-button ${privacyOption === 'private' ? 'active' : ''}`}\r\n                                onClick={() => setPrivacyOption('private')}\r\n                            >\r\n                                Gizli\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* BÃ¶lÃ¼m AyÄ±rÄ±cÄ± */}\r\n                    <hr className=\"section-divider\" />\r\n\r\n                    <button\r\n                        type=\"submit\"\r\n                        disabled={uploading || !selectedFile}\r\n                        className={`upload-button ${uploading ? 'uploading' : ''}`}\r\n                    >\r\n                        {uploading ? (\r\n                            <>\r\n                                <i className=\"fas fa-spinner fa-spin\"></i>\r\n                                YÃ¼kleniyor...\r\n                            </>\r\n                        ) : (\r\n                            <>\r\n                                <i className=\"fas fa-upload\"></i>\r\n                                Dosya YÃ¼kle\r\n                            </>\r\n                        )}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n\r\n            {/* Dosya Listesi */}\r\n            <div className=\"files-section\">\r\n                <div className=\"section-header\">\r\n                    <h3>ðŸ“‚ DosyalarÄ±m</h3>\r\n                    <span className=\"file-count\">({files.length} dosya)</span>\r\n                </div>\r\n\r\n                {files.length === 0 ? (\r\n                    <div className=\"no-files\">\r\n                        <i className=\"fas fa-folder-open\"></i>\r\n                        <p>HenÃ¼z dosya yÃ¼klenmemiÅŸ</p>\r\n                        <small>YukarÄ±daki formdan ilk dosyanÄ±zÄ± yÃ¼kleyebilirsiniz</small>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"files-grid\">\r\n                            {files.map((file) => {\r\n                                const previewUrl = getFilePreview(file);\r\n                                const fileSizeMB = file.file_size ? (file.file_size / (1024 * 1024)).toFixed(2) : 'N/A';\r\n                                const fileName = file.file_name || (file.file ? file.file.split('/').pop() : 'Dosya');\r\n\r\n                                return (\r\n                                    // âœ… DÃœZELTME: JSX syntax hatasÄ± giderildi\r\n                                    file.one_time_view ? (\r\n                                        <SecureViewer key={file.id} file={file}>\r\n                                            <div\r\n                                                className=\"file-card\"\r\n                                                onClick={() => handleViewFile(file)}\r\n                                            >\r\n                                                <div className=\"file-preview\">\r\n                                                    {previewUrl ? (\r\n                                                        <>\r\n                                                            <img\r\n                                                                src={previewUrl}\r\n                                                                alt=\"Ã–nizleme\"\r\n                                                                className=\"file-thumbnail\"\r\n                                                                onLoad={(e) => {\r\n                                                                    console.log('âœ… Thumbnail baÅŸarÄ±yla yÃ¼klendi:', e.target.src);\r\n                                                                    const icon = e.target.nextElementSibling;\r\n                                                                    if (icon) {\r\n                                                                        icon.style.display = 'none';\r\n                                                                    }\r\n                                                                }}\r\n                                                            />\r\n                                                        </>\r\n                                                    ) : null}\r\n                                                    <div\r\n                                                        className={`file-icon ${previewUrl ? 'fallback' : ''}`}\r\n                                                        style={{ display: previewUrl ? 'none' : 'flex' }}\r\n                                                    >\r\n                                                        <i className={getFileIcon(file)}></i>\r\n                                                    </div>\r\n                                                    {file.one_time_view && (\r\n                                                        <div className=\"one-time-badge\">\r\n                                                            <i className=\"fas fa-lock\"></i>\r\n                                                        </div>\r\n                                                    )}\r\n                                                </div>\r\n                                                <div className=\"file-info\">\r\n                                                    <div className=\"file-name\" title={fileName}>\r\n                                                        {fileName}\r\n                                                    </div>\r\n                                                    <div className=\"file-meta\">\r\n                                                        <span className=\"file-date\">\r\n                                                            {new Date(file.uploaded_at).toLocaleDateString('tr-TR')}\r\n                                                        </span>\r\n                                                        <span className=\"file-size\">\r\n                                                            {fileSizeMB} MB\r\n                                                        </span>\r\n                                                    </div>\r\n                                                    <div className=\"file-tags\">\r\n                                                        {file.one_time_view && (\r\n                                                            <span className=\"tag tag-warning\">\r\n                                                                <i className=\"fas fa-eye\"></i> Tek Seferlik\r\n                                                            </span>\r\n                                                        )}\r\n                                                        {file.is_public ? (\r\n                                                            <span className=\"tag tag-success\">\r\n                                                                <i className=\"fas fa-users\"></i> Herkese AÃ§Ä±k\r\n                                                            </span>\r\n                                                        ) : (\r\n                                                            <span className=\"tag tag-private\">\r\n                                                                <i className=\"fas fa-lock\"></i> Gizli\r\n                                                            </span>\r\n                                                        )}\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div className=\"file-actions compact\">\r\n                                                    <button\r\n                                                        onClick={(e) => {\r\n                                                            e.stopPropagation();\r\n                                                            handleDownloadFile(file);\r\n                                                        }}\r\n                                                        className=\"btn btn-primary btn-small\"\r\n                                                        title=\"DosyayÄ± indir\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-download\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={(e) => {\r\n                                                            e.stopPropagation();\r\n                                                            handleShareClick(file);\r\n                                                        }}\r\n                                                        className=\"btn btn-share btn-small\"\r\n                                                        title=\"DosyayÄ± paylaÅŸ\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-share-alt\"></i>\r\n                                                    </button>\r\n                                                    <button\r\n                                                        onClick={(e) => {\r\n                                                            e.stopPropagation();\r\n                                                            handleDeleteFile(file.id);\r\n                                                        }}\r\n                                                        className=\"btn btn-danger btn-small\"\r\n                                                        title=\"DosyayÄ± sil\"\r\n                                                    >\r\n                                                        <i className=\"fas fa-trash\"></i>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </SecureViewer>\r\n                                    ) : (\r\n                                        // âœ… Normal dosyalar iÃ§in SecureViewer kullanma\r\n                                        <div\r\n                                            key={file.id}\r\n                                            className=\"file-card\"\r\n                                            onClick={() => handleViewFile(file)}\r\n                                        >\r\n                                            <div className=\"file-preview\">\r\n                                                {previewUrl ? (\r\n                                                    <>\r\n                                                        <img\r\n                                                            src={previewUrl}\r\n                                                            alt=\"Ã–nizleme\"\r\n                                                            className=\"file-thumbnail\"\r\n                                                            onLoad={(e) => {\r\n                                                                console.log('âœ… Thumbnail baÅŸarÄ±yla yÃ¼klendi:', e.target.src);\r\n                                                                const icon = e.target.nextElementSibling;\r\n                                                                if (icon) {\r\n                                                                    icon.style.display = 'none';\r\n                                                                }\r\n                                                            }}\r\n                                                        />\r\n                                                    </>\r\n                                                ) : null}\r\n                                                <div\r\n                                                    className={`file-icon ${previewUrl ? 'fallback' : ''}`}\r\n                                                    style={{ display: previewUrl ? 'none' : 'flex' }}\r\n                                                >\r\n                                                    <i className={getFileIcon(file)}></i>\r\n                                                </div>\r\n                                                {file.one_time_view && (\r\n                                                    <div className=\"one-time-badge\">\r\n                                                        <i className=\"fas fa-lock\"></i>\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                            <div className=\"file-info\">\r\n                                                <div className=\"file-name\" title={fileName}>\r\n                                                    {fileName}\r\n                                                </div>\r\n                                                <div className=\"file-meta\">\r\n                                                    <span className=\"file-date\">\r\n                                                        {new Date(file.uploaded_at).toLocaleDateString('tr-TR')}\r\n                                                    </span>\r\n                                                    <span className=\"file-size\">\r\n                                                        {fileSizeMB} MB\r\n                                                    </span>\r\n                                                </div>\r\n                                                <div className=\"file-tags\">\r\n                                                    {file.one_time_view && (\r\n                                                        <span className=\"tag tag-warning\">\r\n                                                            <i className=\"fas fa-eye\"></i> Tek Seferlik\r\n                                                        </span>\r\n                                                    )}\r\n                                                    {file.is_public ? (\r\n                                                        <span className=\"tag tag-success\">\r\n                                                            <i className=\"fas fa-users\"></i> Herkese AÃ§Ä±k\r\n                                                        </span>\r\n                                                    ) : (\r\n                                                        <span className=\"tag tag-private\">\r\n                                                            <i className=\"fas fa-lock\"></i> Gizli\r\n                                                        </span>\r\n                                                    )}\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"file-actions compact\">\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        handleDownloadFile(file);\r\n                                                    }}\r\n                                                    className=\"btn btn-primary btn-small\"\r\n                                                    title=\"DosyayÄ± indir\"\r\n                                                >\r\n                                                    <i className=\"fas fa-download\"></i>\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        handleShareClick(file);\r\n                                                    }}\r\n                                                    className=\"btn btn-share btn-small\"\r\n                                                    title=\"DosyayÄ± paylaÅŸ\"\r\n                                                >\r\n                                                    <i className=\"fas fa-share-alt\"></i>\r\n                                                </button>\r\n                                                <button\r\n                                                    onClick={(e) => {\r\n                                                        e.stopPropagation();\r\n                                                        handleDeleteFile(file.id);\r\n                                                    }}\r\n                                                    className=\"btn btn-danger btn-small\"\r\n                                                    title=\"DosyayÄ± sil\"\r\n                                                >\r\n                                                    <i className=\"fas fa-trash\"></i>\r\n                                                </button>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                );\r\n                            })}\r\n\r\n                    </div>\r\n                )}\r\n\r\n                {/* PaylaÅŸÄ±m Modal'Ä± */}\r\n                {renderShareModal()}\r\n\r\n                {/* Dosya GÃ¶rÃ¼ntÃ¼leyici Modal'Ä± */}\r\n                {renderFileViewer()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ChunkDownloader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
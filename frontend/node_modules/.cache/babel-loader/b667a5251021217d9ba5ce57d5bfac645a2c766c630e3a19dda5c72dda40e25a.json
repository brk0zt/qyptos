{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Burak\\\\Desktop\\\\cloud_mvp\\\\frontend\\\\src\\\\components\\\\Dashboard.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\n// Dashboard.jsx (DÃ¼zeltilmiÅŸ Versiyon)\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\nimport { useAuth } from \"../AuthContext\";\nimport { useMemory } from \"./MemoryContext\";\nimport ChunkDownloader from \"./ChunkDownloader\";\nimport GroupManager from './GroupManager';\nimport ChatBox from \"./ChatBox\";\nimport ChatHeader from \"./ChatHeader\";\nimport UserList from \"./UserList\";\nimport TrendingView from './TrendingView';\nimport \"./styles/Dashboard.css\";\nimport SearchEngine from './SearchEngine';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:8001\"; // Resimler iÃ§in Backend adresi\n\nconst MemoryStatsView = ({\n  stats\n}) => {\n  if (!stats) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading-state\",\n    children: \"Haf\\u0131za \\u0130statistikleri y\\xFCkleniyor...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 24\n  }, this);\n  const {\n    total_items,\n    memory_quota_mb,\n    memory_used_mb,\n    memory_remaining_mb,\n    tier_distribution\n  } = stats;\n\n  // YÃ¼zde hesapla (SÄ±fÄ±ra bÃ¶lÃ¼nme hatasÄ±nÄ± engelle)\n  const usedPercentage = memory_quota_mb > 0 ? (memory_used_mb / memory_quota_mb * 100).toFixed(1) : \"0.0\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"memory-stats-view\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83E\\uDDE0 Yapay Haf\\u0131za Durumu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-card quota-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Kullan\\u0131m ve Kota\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${usedPercentage}%`\n          },\n          children: [usedPercentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Toplam Kullan\\u0131lan: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [memory_used_mb.toFixed(2), \" MB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 39\n        }, this), \" / \", memory_quota_mb.toFixed(2), \" MB\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Kalan Kota: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: [memory_remaining_mb.toFixed(2), \" MB\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Toplam Kay\\u0131tl\\u0131 \\xD6\\u011Fe: \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: total_items\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stat-card tier-card\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Katman Da\\u011F\\u0131l\\u0131m\\u0131 (Memory Tier)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"tier-list\",\n        children: tier_distribution.map((tier, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: `tier-name tier-${tier.memory_tier__name.replace('_', '-')}`,\n            children: tier.memory_tier__name.toUpperCase()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"tier-count\",\n            children: [tier.count, \" \\xD6\\u011Fe\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 29\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 9\n  }, this);\n};\n_c = MemoryStatsView;\nconst WelcomeChatSection = ({\n  username,\n  onFileSelect,\n  onRefreshTimeline\n}) => {\n  _s();\n  const [inputText, setInputText] = useState(\"\");\n  const [isProcessing, setIsProcessing] = useState(false);\n  const [aiResponse, setAiResponse] = useState(null);\n  const [foundMemories, setFoundMemories] = useState([]);\n  const [suggestions, setSuggestions] = useState([]);\n  const handleSendMessage = async (overrideText = null) => {\n    const textToSend = overrideText || inputText;\n    if (!textToSend.trim() || isProcessing) return;\n    setIsProcessing(true);\n    setAiResponse(null);\n    setFoundMemories([]);\n    setSuggestions([]); // Ã–nceki Ã¶nerileri temizle\n\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), 60000);\n    try {\n      const token = localStorage.getItem('token');\n      console.log(\"Sorgu:\", textToSend);\n      const response = await fetch(`${API_BASE}/api/chat/ask/`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          message: textToSend\n        }),\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      const rawData = await response.json();\n      // Backend bazen {data: ...} bazen direkt {...} dÃ¶nebilir, ikisini de kapsayalÄ±m\n      const data = rawData.data || rawData;\n      console.log(\"ðŸ“¦ AI YanÄ±tÄ±:\", data);\n      if (response.ok) {\n        // 1. Cevap Metni\n        setAiResponse(data.reply || \"SonuÃ§ bulundu.\");\n\n        // 2. Ã–neriler (Åžaibe Varsa)\n        if (data.suggestions && data.suggestions.length > 0) {\n          console.log(\"ðŸ’¡ Ã–neriler geldi:\", data.suggestions);\n          setSuggestions(data.suggestions);\n        }\n\n        // 3. HafÄ±za KartlarÄ± (Resimler)\n        const memories = data.relevant_memories || [];\n        if (memories.length > 0) {\n          setFoundMemories(memories);\n        }\n        if (onRefreshTimeline) onRefreshTimeline();\n      } else {\n        setAiResponse(\"Hata: \" + (data.detail || \"Ä°ÅŸlem baÅŸarÄ±sÄ±z.\"));\n      }\n    } catch (error) {\n      console.error(\"Frontend HatasÄ±:\", error);\n      setAiResponse(error.name === 'AbortError' ? \"Zaman aÅŸÄ±mÄ±.\" : \"BaÄŸlantÄ± hatasÄ±.\");\n    } finally {\n      setIsProcessing(false);\n      if (!overrideText) setInputText(\"\"); // Sadece inputtan geldiyse temizle\n      clearTimeout(timeoutId);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome-chat-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"welcome-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"/logo-tri.png\",\n        alt: \"Qyptos AI\",\n        className: \"welcome-logo-img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Merhaba \", username || 'KullanÄ±cÄ±']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gemini-input-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Qyptos AI'a sorun (\\xD6rn: 'Sand\\u0131k')\",\n        className: \"gemini-text-input\",\n        value: inputText,\n        onChange: e => setInputText(e.target.value),\n        onKeyDown: e => e.key === 'Enter' && handleSendMessage(),\n        disabled: isProcessing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"gemini-icon-btn mic-btn\",\n        onClick: () => handleSendMessage(),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: `fas ${isProcessing ? 'fa-spinner fa-spin' : 'fa-paper-plane'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-result-area\",\n      style: {\n        marginTop: '20px',\n        padding: '10px'\n      },\n      children: [aiResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-text-bubble\",\n        style: {\n          color: 'white',\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-robot\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 25\n        }, this), \" \", aiResponse]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 21\n      }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"suggestions-container\",\n        style: {\n          display: 'flex',\n          gap: '10px',\n          flexWrap: 'wrap',\n          marginBottom: '20px'\n        },\n        children: suggestions.map((sug, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleSendMessage(sug.search_query),\n          style: {\n            padding: '10px 20px',\n            borderRadius: '20px',\n            border: '1px solid #3B82F6',\n            background: 'rgba(59, 130, 246, 0.1)',\n            color: '#3B82F6',\n            cursor: 'pointer',\n            fontSize: '0.9rem',\n            transition: 'all 0.2s',\n            display: 'flex',\n            alignItems: 'center',\n            gap: '8px'\n          },\n          onMouseOver: e => e.currentTarget.style.background = 'rgba(59, 130, 246, 0.3)',\n          onMouseOut: e => e.currentTarget.style.background = 'rgba(59, 130, 246, 0.1)',\n          children: sug.label\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }, this), foundMemories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          borderTop: '1px solid #333',\n          paddingTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            color: '#666'\n          },\n          children: [\"Bulunan Dosyalar (\", foundMemories.length, \"):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 25\n        }, this), foundMemories.map((mem, index) => /*#__PURE__*/_jsxDEV(MemoryResultCard, {\n          memory: mem\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 29\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 142,\n    columnNumber: 9\n  }, this);\n};\n\n// Dashboard.jsx iÃ§indeki MemoryResultCard bileÅŸeni (GÃ¼ncellenmiÅŸ)\n_s(WelcomeChatSection, \"qF7FPI1rueKESa3pRspSCl4ce/Q=\");\n_c2 = WelcomeChatSection;\nconst MemoryResultCard = ({\n  memory\n}) => {\n  var _memory$file_name;\n  // URL KontrolÃ¼\n  let imageUrl = memory.thumbnail || '';\n  if (imageUrl && !imageUrl.startsWith('http')) {\n    const cleanBase = API_BASE.endsWith('/') ? API_BASE.slice(0, -1) : API_BASE;\n    const cleanPath = imageUrl.startsWith('/') ? imageUrl : `/${imageUrl}`;\n    imageUrl = `${cleanBase}${cleanPath}`;\n  }\n\n  // Dosya tÃ¼rÃ¼\n  const isImage = memory.file_type === 'image' || ((_memory$file_name = memory.file_name) === null || _memory$file_name === void 0 ? void 0 : _memory$file_name.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i));\n\n  // Video zaman bilgisi iÃ§eriyor mu?\n  const hasTimestamp = memory.summary && memory.summary.includes('saniyesinde');\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"memory-result-card\",\n    onClick: () => window.open(imageUrl, '_blank'),\n    style: {\n      background: '#1a1a1a',\n      border: hasTimestamp ? '1px solid #FBBF24' : '1px solid #3B82F6',\n      // Video bulunursa SarÄ± Ã§erÃ§eve\n      borderRadius: '12px',\n      padding: '15px',\n      marginTop: '15px',\n      display: 'flex',\n      gap: '15px',\n      cursor: 'pointer',\n      minHeight: '80px',\n      color: 'white'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: '80px',\n        height: '80px',\n        borderRadius: '8px',\n        overflow: 'hidden',\n        background: '#000',\n        flexShrink: 0,\n        border: '1px solid rgba(255,255,255,0.1)',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      children: isImage && imageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageUrl,\n        alt: \"thumbnail\",\n        style: {\n          width: '100%',\n          height: '100%',\n          objectFit: 'cover'\n        },\n        onError: e => {\n          e.target.style.display = 'none';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '2rem',\n          color: '#fff'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: memory.file_type === 'video' ? \"fas fa-video\" : \"fas fa-file-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        justifyContent: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 5px 0',\n          color: hasTimestamp ? '#FBBF24' : '#3B82F6',\n          fontSize: '1rem'\n        },\n        children: memory.file_name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '0 0 5px 0',\n          fontSize: '0.9rem',\n          color: hasTimestamp ? '#FBBF24' : '#ccc',\n          // SarÄ± veya AÃ§Ä±k Gri\n          fontWeight: hasTimestamp ? 'bold' : 'normal'\n        },\n        children: memory.summary || \"GÃ¶rsel iÃ§erik.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          fontSize: '0.75rem',\n          opacity: 0.6,\n          color: '#aaa'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bullseye\",\n          style: {\n            marginRight: '5px'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 21\n        }, this), \"Skor: %\", (memory.similarity_score * 100).toFixed(0)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 235,\n    columnNumber: 9\n  }, this);\n};\n_c3 = MemoryResultCard;\nconst ChronologyBar = ({\n  refreshTrigger\n}) => {\n  _s2();\n  const [events, setEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const fetchTimeline = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      const response = await fetch(`${API_BASE}/api/timeline/?days=7&limit=10`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      if (data.timeline_events) {\n        setEvents(data.timeline_events);\n      }\n    } catch (error) {\n      console.error(\"Timeline hatasÄ±:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchTimeline();\n  }, [refreshTrigger]);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chronology-wrapper\",\n    style: {\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: \"Y\\xFCkleniyor...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 319,\n    columnNumber: 25\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"chronology-wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      style: {\n        fontSize: '1rem',\n        color: 'var(--text-secondary)',\n        marginBottom: '15px'\n      },\n      children: \"Son Aktiviteler\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chronology-track\",\n      style: {\n        overflowX: 'auto',\n        paddingBottom: '10px',\n        display: 'flex',\n        gap: '20px'\n      },\n      children: events.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'var(--text-muted)'\n        },\n        children: \"Hen\\xFCz bir aktivite yok.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 21\n      }, this) : events.map((event, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chrono-item\",\n        title: event.description,\n        style: {\n          minWidth: '100px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `chrono-dot ${index === 0 ? 'active' : ''}`,\n          style: {\n            margin: '0 auto 10px auto'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            fontSize: '0.8rem',\n            display: 'block',\n            whiteSpace: 'nowrap',\n            overflow: 'hidden',\n            textOverflow: 'ellipsis',\n            maxWidth: '100px'\n          },\n          children: event.title.length > 15 ? event.title.substring(0, 12) + '..' : event.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          style: {\n            fontSize: '0.7rem',\n            color: 'var(--text-muted)'\n          },\n          children: new Date(event.timestamp).toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 29\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 322,\n    columnNumber: 9\n  }, this);\n};\n_s2(ChronologyBar, \"+npp09ZlhZYCuFMbAhFP+QaH6MU=\");\n_c4 = ChronologyBar;\nexport default function Dashboard({\n  notifications = []\n}) {\n  _s3();\n  const {\n    user,\n    logout\n  } = useAuth();\n  const {\n    fetchMemoryStats: fetchMemoryStatsFromContext\n  } = useMemory();\n  const [memoryStats, setMemoryStats] = useState(null);\n  const [storageStats, setStorageStats] = useState({\n    used: 0,\n    total: 50\n  });\n  const [timelineRefresh, setTimelineRefresh] = useState(0);\n  const [activeTab, setActiveTab] = useState(\"downloader\");\n  const [notificationCount] = useState(notifications.length || 3);\n  const [selectedThread, setSelectedThread] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState([]);\n  const [theme, setTheme] = useState('dark');\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const dropdownRef = useRef(null);\n  const [isThemeAnimating, setIsThemeAnimating] = useState(false);\n  const handleTimelineRefresh = () => {\n    setTimelineRefresh(prev => prev + 1);\n  };\n  const fetchStorageData = async () => {\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) return;\n      const response = await fetch(`${API_BASE}/api/files/`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (response.ok) {\n        const files = await response.json();\n        let totalBytes = 0;\n        files.forEach(file => {\n          if (file.file_size) totalBytes += file.file_size;else totalBytes += 1024 * 1024;\n        });\n        const usedGB = totalBytes / (1024 * 1024 * 1024);\n        setStorageStats({\n          used: usedGB,\n          total: 50\n        });\n      }\n    } catch (error) {\n      console.error(\"Depolama verisi Ã§ekilemedi:\", error);\n    }\n  };\n  useEffect(() => {\n    function handleClickOutside(event) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\n        setIsDropdownOpen(false);\n      }\n    }\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleClickOutside);\n    };\n  }, [dropdownRef]);\n  const fetchMemoryStats = useCallback(async () => {\n    try {\n      if (fetchMemoryStatsFromContext) {\n        const stats = await fetchMemoryStatsFromContext();\n        setMemoryStats(stats);\n      } else {\n        setMemoryStats({\n          memory_used_mb: 2.5,\n          memory_quota_mb: 100,\n          total_items: 42\n        });\n      }\n    } catch (error) {\n      console.error('Hata:', error);\n      setMemoryStats({\n        memory_used_mb: 0,\n        memory_quota_mb: 100\n      });\n    }\n  }, [fetchMemoryStatsFromContext]);\n  useEffect(() => {\n    fetchMemoryStats();\n    fetchStorageData();\n    const interval = setInterval(() => {\n      fetchStorageData();\n      fetchMemoryStats();\n    }, 30000);\n    return () => clearInterval(interval);\n  }, [fetchMemoryStats]);\n  const handleLogout = () => {\n    logout();\n  };\n  const toggleTheme = () => {\n    setIsThemeAnimating(true);\n    setTimeout(() => {\n      const newTheme = theme === 'dark' ? 'light' : 'dark';\n      setTheme(newTheme);\n      document.documentElement.setAttribute('data-theme', newTheme);\n    }, 200);\n    setTimeout(() => {\n      setIsThemeAnimating(false);\n    }, 500);\n  };\n  const toggleDropdown = () => {\n    setIsDropdownOpen(!isDropdownOpen);\n  };\n  const onChatFileSelect = file => {\n    alert(`\"${file.name}\" seÃ§ildi.`);\n    setActiveTab(\"downloader\");\n  };\n  useEffect(() => {\n    document.documentElement.setAttribute('data-theme', theme);\n    fetchMemoryStats();\n    const fetchOnlineUsers = async () => {\n      try {\n        const token = localStorage.getItem('token');\n        if (!token) return;\n        const response = await fetch(`${API_BASE}/chat/users/`, {\n          method: 'GET',\n          headers: {\n            'Authorization': `Bearer ${token}`\n          }\n        });\n        if (response.ok) {\n          const users = await response.json();\n          setOnlineUsers(users);\n        }\n      } catch (error) {\n        console.error('KullanÄ±cÄ± listesi hatasÄ±:', error);\n      }\n    };\n    fetchOnlineUsers();\n  }, [logout, theme, fetchMemoryStats]);\n  const renderContent = () => {\n    switch (activeTab) {\n      case \"downloader\":\n        const storagePercent = Math.min(storageStats.used / storageStats.total * 100, 100).toFixed(1);\n\n        // NaN hatasÄ± dÃ¼zeltmesi\n        const memoryPercent = memoryStats && memoryStats.memory_quota_mb > 0 ? (memoryStats.memory_used_mb / memoryStats.memory_quota_mb * 100).toFixed(1) : \"0.0\";\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-home-layout\",\n          children: [/*#__PURE__*/_jsxDEV(WelcomeChatSection, {\n            username: user === null || user === void 0 ? void 0 : user.username,\n            onFileSelect: onChatFileSelect,\n            onRefreshTimeline: handleTimelineRefresh\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(ChronologyBar, {\n            refreshTrigger: timelineRefresh\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stats-grid-visual\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"qyptos-card storage-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-archive\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 494,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Depolama Alan\\u0131\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 495,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 493,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"circle-chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 36 36\",\n                  className: \"circular-chart blue\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"circle-bg\",\n                    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 499,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"circle\",\n                    strokeDasharray: `${storagePercent}, 100`,\n                    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 500,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                    x: \"18\",\n                    y: \"20.35\",\n                    className: \"percentage\",\n                    children: [storagePercent, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 498,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Kullan\\u0131lan: \", storageStats.used.toFixed(2), \" GB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Toplam: \", storageStats.total, \" GB\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 506,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"qyptos-card memory-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-brain\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 512,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Yapay Haf\\u0131za\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"circle-chart-wrapper\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  viewBox: \"0 0 36 36\",\n                  className: \"circular-chart purple\",\n                  children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"circle-bg\",\n                    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                    className: \"circle\",\n                    strokeDasharray: `${memoryPercent}, 100`,\n                    d: \"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 518,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(\"text\", {\n                    x: \"18\",\n                    y: \"20.35\",\n                    className: \"percentage\",\n                    children: [memoryPercent, \"%\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 519,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 515,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-footer\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [(memoryStats === null || memoryStats === void 0 ? void 0 : memoryStats.total_items) || 0, \" \\xD6\\u011Frenilen Bilgi\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 523,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"downloader-container-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(ChunkDownloader, {\n              apiBase: `${API_BASE}/api`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 529,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }, this);\n      case \"groups\":\n        return /*#__PURE__*/_jsxDEV(GroupManager, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 533,\n          columnNumber: 35\n        }, this);\n      case \"memory\":\n        return /*#__PURE__*/_jsxDEV(MemoryStatsView, {\n          stats: memoryStats\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 35\n        }, this);\n      case \"chat\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-sidebar\",\n            children: /*#__PURE__*/_jsxDEV(UserList, {\n              users: onlineUsers,\n              currentUser: user === null || user === void 0 ? void 0 : user.username,\n              onSelectUser: username => {\n                const selectedUser = onlineUsers.find(u => u.username === username);\n                setSelectedThread({\n                  id: Date.now(),\n                  username: username,\n                  isOnline: (selectedUser === null || selectedUser === void 0 ? void 0 : selectedUser.is_online) || false\n                });\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-main\",\n            children: selectedThread ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n                username: selectedThread.username,\n                isOnline: selectedThread.isOnline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 555,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(ChatBox, {\n                threadId: selectedThread.id,\n                currentUser: user === null || user === void 0 ? void 0 : user.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 556,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"no-chat-selected\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"no-chat-icon\",\n                children: \"\\uD83D\\uDCAC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 560,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Bir sohbet ba\\u015Flat\\u0131n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 559,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 21\n        }, this);\n      case \"ads\":\n        return /*#__PURE__*/_jsxDEV(TrendingView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 567,\n          columnNumber: 32\n        }, this);\n      case \"media\":\n        return /*#__PURE__*/_jsxDEV(SearchEngine, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 568,\n          columnNumber: 34\n        }, this);\n      case \"profile\":\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"content-placeholder\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Profil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 572,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Kullan\\u0131c\\u0131: \", user === null || user === void 0 ? void 0 : user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 573,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 21\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Se\\xE7im yap\\u0131n\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 29\n        }, this);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-horizontal\",\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"top-nav\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"/qyptos-logo.png\",\n            alt: \"qyptos-logo\",\n            className: \"qyptos-logo-img\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 584,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"nav-menu\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: `nav-item ${activeTab === \"downloader\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"downloader\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-cloud\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 142\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Bulutum\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 588,\n              columnNumber: 175\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 588,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `nav-item ${activeTab === \"ads\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"ads\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-fire\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 128\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Trendler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 160\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 589,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `nav-item ${activeTab === \"media\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"media\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 132\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Ara\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 590,\n              columnNumber: 166\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `nav-item ${activeTab === \"groups\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"groups\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 134\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Gruplar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 167\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 591,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `nav-item ${activeTab === \"chat\" ? \"active\" : \"\"}`,\n            onClick: () => setActiveTab(\"chat\"),\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-comments\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 130\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"DM\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 166\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 592,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 587,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 583,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"nav-right\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `theme-toggle ${isThemeAnimating ? 'animating' : ''}`,\n          onClick: toggleTheme,\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas ${theme === 'dark' ? 'fa-moon' : 'fa-sun'}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 598,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"notification-bell\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-bell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 25\n          }, this), notificationCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"notification-badge\",\n            children: notificationCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 602,\n            columnNumber: 51\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-dropdown\",\n          onClick: toggleDropdown,\n          ref: dropdownRef,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-avatar\",\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 54\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"user-name\",\n            children: (user === null || user === void 0 ? void 0 : user.username) || 'burak'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 606,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"i\", {\n            className: `fas fa-chevron-down ${isDropdownOpen ? 'rotate' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 25\n          }, this), isDropdownOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dropdown-menu show\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-item\",\n              onClick: e => {\n                e.stopPropagation();\n                setActiveTab(\"profile\");\n                setIsDropdownOpen(false);\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 157\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Profil\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 188\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 610,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"dropdown-item danger\",\n              onClick: e => {\n                e.stopPropagation();\n                handleLogout();\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-sign-out-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 129\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"\\xC7\\u0131k\\u0131\\u015F Yap\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 168\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 611,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 582,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"main-content-horizontal\",\n      children: renderContent()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 617,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 581,\n    columnNumber: 9\n  }, this);\n}\n_s3(Dashboard, \"ibCi2qPMswJJMqH6yo4FbYdhbK8=\", false, function () {\n  return [useAuth, useMemory];\n});\n_c5 = Dashboard;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"MemoryStatsView\");\n$RefreshReg$(_c2, \"WelcomeChatSection\");\n$RefreshReg$(_c3, \"MemoryResultCard\");\n$RefreshReg$(_c4, \"ChronologyBar\");\n$RefreshReg$(_c5, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","useAuth","useMemory","ChunkDownloader","GroupManager","ChatBox","ChatHeader","UserList","TrendingView","SearchEngine","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","MemoryStatsView","stats","className","children","fileName","_jsxFileName","lineNumber","columnNumber","total_items","memory_quota_mb","memory_used_mb","memory_remaining_mb","tier_distribution","usedPercentage","toFixed","style","width","map","tier","index","memory_tier__name","replace","toUpperCase","count","_c","WelcomeChatSection","username","onFileSelect","onRefreshTimeline","_s","inputText","setInputText","isProcessing","setIsProcessing","aiResponse","setAiResponse","foundMemories","setFoundMemories","suggestions","setSuggestions","handleSendMessage","overrideText","textToSend","trim","controller","AbortController","timeoutId","setTimeout","abort","token","localStorage","getItem","console","log","response","fetch","method","headers","body","JSON","stringify","message","signal","clearTimeout","rawData","json","data","ok","reply","length","memories","relevant_memories","detail","error","name","src","alt","type","placeholder","value","onChange","e","target","onKeyDown","key","disabled","onClick","marginTop","padding","color","marginBottom","display","gap","flexWrap","sug","search_query","borderRadius","border","background","cursor","fontSize","transition","alignItems","onMouseOver","currentTarget","onMouseOut","label","borderTop","paddingTop","mem","MemoryResultCard","memory","_c2","_memory$file_name","imageUrl","thumbnail","startsWith","cleanBase","endsWith","slice","cleanPath","isImage","file_type","file_name","match","hasTimestamp","summary","includes","window","open","minHeight","height","overflow","flexShrink","justifyContent","objectFit","onError","flex","flexDirection","margin","fontWeight","opacity","marginRight","similarity_score","_c3","ChronologyBar","refreshTrigger","_s2","events","setEvents","loading","setLoading","fetchTimeline","timeline_events","textAlign","overflowX","paddingBottom","event","title","description","minWidth","whiteSpace","textOverflow","maxWidth","substring","Date","timestamp","toLocaleTimeString","hour","minute","_c4","Dashboard","notifications","_s3","user","logout","fetchMemoryStats","fetchMemoryStatsFromContext","memoryStats","setMemoryStats","storageStats","setStorageStats","used","total","timelineRefresh","setTimelineRefresh","activeTab","setActiveTab","notificationCount","selectedThread","setSelectedThread","onlineUsers","setOnlineUsers","theme","setTheme","isDropdownOpen","setIsDropdownOpen","dropdownRef","isThemeAnimating","setIsThemeAnimating","handleTimelineRefresh","prev","fetchStorageData","files","totalBytes","forEach","file","file_size","usedGB","handleClickOutside","current","contains","document","addEventListener","removeEventListener","interval","setInterval","clearInterval","handleLogout","toggleTheme","newTheme","documentElement","setAttribute","toggleDropdown","onChatFileSelect","alert","fetchOnlineUsers","users","renderContent","storagePercent","Math","min","memoryPercent","viewBox","d","strokeDasharray","x","y","apiBase","currentUser","onSelectUser","selectedUser","find","u","id","now","isOnline","is_online","threadId","ref","stopPropagation","_c5","$RefreshReg$"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/components/Dashboard.jsx"],"sourcesContent":["// Dashboard.jsx (DÃ¼zeltilmiÅŸ Versiyon)\r\nimport React, { useState, useEffect, useCallback, useRef } from \"react\";\r\nimport { useAuth } from \"../AuthContext\";\r\nimport { useMemory } from \"./MemoryContext\";\r\nimport ChunkDownloader from \"./ChunkDownloader\";\r\nimport GroupManager from './GroupManager';\r\nimport ChatBox from \"./ChatBox\";\r\nimport ChatHeader from \"./ChatHeader\";\r\nimport UserList from \"./UserList\";\r\nimport TrendingView from './TrendingView';\r\nimport \"./styles/Dashboard.css\";\r\nimport SearchEngine from './SearchEngine';\r\n\r\nconst API_BASE = \"http://localhost:8001\"; // Resimler iÃ§in Backend adresi\r\n\r\nconst MemoryStatsView = ({ stats }) => {\r\n    if (!stats) return <div className=\"loading-state\">HafÄ±za Ä°statistikleri yÃ¼kleniyor...</div>;\r\n\r\n    const {\r\n        total_items,\r\n        memory_quota_mb,\r\n        memory_used_mb,\r\n        memory_remaining_mb,\r\n        tier_distribution\r\n    } = stats;\r\n\r\n    // YÃ¼zde hesapla (SÄ±fÄ±ra bÃ¶lÃ¼nme hatasÄ±nÄ± engelle)\r\n    const usedPercentage = memory_quota_mb > 0\r\n        ? ((memory_used_mb / memory_quota_mb) * 100).toFixed(1)\r\n        : \"0.0\";\r\n\r\n    return (\r\n        <div className=\"memory-stats-view\">\r\n            <h2>ðŸ§  Yapay HafÄ±za Durumu</h2>\r\n\r\n            <div className=\"stat-card quota-card\">\r\n                <h3>KullanÄ±m ve Kota</h3>\r\n                <div className=\"progress-bar-container\">\r\n                    <div\r\n                        className=\"progress-bar\"\r\n                        style={{ width: `${usedPercentage}%` }}\r\n                    >\r\n                        {usedPercentage}%\r\n                    </div>\r\n                </div>\r\n                <p>Toplam KullanÄ±lan: <strong>{memory_used_mb.toFixed(2)} MB</strong> / {memory_quota_mb.toFixed(2)} MB</p>\r\n                <p>Kalan Kota: <strong>{memory_remaining_mb.toFixed(2)} MB</strong></p>\r\n                <p>Toplam KayÄ±tlÄ± Ã–ÄŸe: <strong>{total_items}</strong></p>\r\n            </div>\r\n\r\n            <div className=\"stat-card tier-card\">\r\n                <h3>Katman DaÄŸÄ±lÄ±mÄ± (Memory Tier)</h3>\r\n                <ul className=\"tier-list\">\r\n                    {tier_distribution.map((tier, index) => (\r\n                        <li key={index}>\r\n                            <span className={`tier-name tier-${tier.memory_tier__name.replace('_', '-')}`}>\r\n                                {tier.memory_tier__name.toUpperCase()}\r\n                            </span>\r\n                            <span className=\"tier-count\">{tier.count} Ã–ÄŸe</span>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst WelcomeChatSection = ({ username, onFileSelect, onRefreshTimeline }) => {\r\n    const [inputText, setInputText] = useState(\"\");\r\n    const [isProcessing, setIsProcessing] = useState(false);\r\n    const [aiResponse, setAiResponse] = useState(null);\r\n    const [foundMemories, setFoundMemories] = useState([]);\r\n    const [suggestions, setSuggestions] = useState([]);\r\n\r\n    const handleSendMessage = async (overrideText = null) => {\r\n        const textToSend = overrideText || inputText;\r\n\r\n        if (!textToSend.trim() || isProcessing) return;\r\n\r\n        setIsProcessing(true);\r\n        setAiResponse(null);\r\n        setFoundMemories([]);\r\n        setSuggestions([]); // Ã–nceki Ã¶nerileri temizle\r\n\r\n        const controller = new AbortController();\r\n        const timeoutId = setTimeout(() => controller.abort(), 60000);\r\n\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            console.log(\"Sorgu:\", textToSend);\r\n\r\n            const response = await fetch(`${API_BASE}/api/chat/ask/`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ message: textToSend }),\r\n                signal: controller.signal\r\n            });\r\n\r\n            clearTimeout(timeoutId);\r\n\r\n            const rawData = await response.json();\r\n            // Backend bazen {data: ...} bazen direkt {...} dÃ¶nebilir, ikisini de kapsayalÄ±m\r\n            const data = rawData.data || rawData;\r\n\r\n            console.log(\"ðŸ“¦ AI YanÄ±tÄ±:\", data);\r\n\r\n            if (response.ok) {\r\n                // 1. Cevap Metni\r\n                setAiResponse(data.reply || \"SonuÃ§ bulundu.\");\r\n\r\n                // 2. Ã–neriler (Åžaibe Varsa)\r\n                if (data.suggestions && data.suggestions.length > 0) {\r\n                    console.log(\"ðŸ’¡ Ã–neriler geldi:\", data.suggestions);\r\n                    setSuggestions(data.suggestions);\r\n                }\r\n\r\n                // 3. HafÄ±za KartlarÄ± (Resimler)\r\n                const memories = data.relevant_memories || [];\r\n                if (memories.length > 0) {\r\n                    setFoundMemories(memories);\r\n                }\r\n\r\n                if (onRefreshTimeline) onRefreshTimeline();\r\n            } else {\r\n                setAiResponse(\"Hata: \" + (data.detail || \"Ä°ÅŸlem baÅŸarÄ±sÄ±z.\"));\r\n            }\r\n\r\n        } catch (error) {\r\n            console.error(\"Frontend HatasÄ±:\", error);\r\n            setAiResponse(error.name === 'AbortError' ? \"Zaman aÅŸÄ±mÄ±.\" : \"BaÄŸlantÄ± hatasÄ±.\");\r\n        } finally {\r\n            setIsProcessing(false);\r\n            if (!overrideText) setInputText(\"\"); // Sadece inputtan geldiyse temizle\r\n            clearTimeout(timeoutId);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"welcome-chat-wrapper\">\r\n            <div className=\"welcome-header\">\r\n                <img src=\"/logo-tri.png\" alt=\"Qyptos AI\" className=\"welcome-logo-img\" />\r\n                <h1>Merhaba {username || 'KullanÄ±cÄ±'}</h1>\r\n            </div>\r\n\r\n            <div className=\"gemini-input-container\">\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Qyptos AI'a sorun (Ã–rn: 'SandÄ±k')\"\r\n                    className=\"gemini-text-input\"\r\n                    value={inputText}\r\n                    onChange={(e) => setInputText(e.target.value)}\r\n                    onKeyDown={(e) => e.key === 'Enter' && handleSendMessage()}\r\n                    disabled={isProcessing}\r\n                />\r\n                <button className=\"gemini-icon-btn mic-btn\" onClick={() => handleSendMessage()}>\r\n                    <i className={`fas ${isProcessing ? 'fa-spinner fa-spin' : 'fa-paper-plane'}`}></i>\r\n                </button>\r\n            </div>\r\n\r\n            {/* SONUÃ‡ ALANI */}\r\n            <div className=\"ai-result-area\" style={{ marginTop: '20px', padding: '10px' }}>\r\n\r\n                {/* 1. Yapay Zeka CevabÄ± */}\r\n                {aiResponse && (\r\n                    <div className=\"ai-text-bubble\" style={{ color: 'white', marginBottom: '15px' }}>\r\n                        <i className=\"fas fa-robot\"></i> {aiResponse}\r\n                    </div>\r\n                )}\r\n\r\n                {/* 2. Ã–NERÄ° BUTONLARI (Chips) - YENÄ° Ã–ZELLÄ°K */}\r\n                {suggestions.length > 0 && (\r\n                    <div className=\"suggestions-container\" style={{ display: 'flex', gap: '10px', flexWrap: 'wrap', marginBottom: '20px' }}>\r\n                        {suggestions.map((sug, index) => (\r\n                            <button\r\n                                key={index}\r\n                                onClick={() => handleSendMessage(sug.search_query)}\r\n                                style={{\r\n                                    padding: '10px 20px',\r\n                                    borderRadius: '20px',\r\n                                    border: '1px solid #3B82F6',\r\n                                    background: 'rgba(59, 130, 246, 0.1)',\r\n                                    color: '#3B82F6',\r\n                                    cursor: 'pointer',\r\n                                    fontSize: '0.9rem',\r\n                                    transition: 'all 0.2s',\r\n                                    display: 'flex',\r\n                                    alignItems: 'center',\r\n                                    gap: '8px'\r\n                                }}\r\n                                onMouseOver={(e) => e.currentTarget.style.background = 'rgba(59, 130, 246, 0.3)'}\r\n                                onMouseOut={(e) => e.currentTarget.style.background = 'rgba(59, 130, 246, 0.1)'}\r\n                            >\r\n                                {sug.label}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                )}\r\n\r\n                {/* 3. Bulunan Dosyalar */}\r\n                {foundMemories.length > 0 && (\r\n                    <div style={{ borderTop: '1px solid #333', paddingTop: '10px' }}>\r\n                        <small style={{ color: '#666' }}>Bulunan Dosyalar ({foundMemories.length}):</small>\r\n                        {foundMemories.map((mem, index) => (\r\n                            <MemoryResultCard key={index} memory={mem} />\r\n                        ))}\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Dashboard.jsx iÃ§indeki MemoryResultCard bileÅŸeni (GÃ¼ncellenmiÅŸ)\r\n\r\nconst MemoryResultCard = ({ memory }) => {\r\n    // URL KontrolÃ¼\r\n    let imageUrl = memory.thumbnail || '';\r\n    if (imageUrl && !imageUrl.startsWith('http')) {\r\n        const cleanBase = API_BASE.endsWith('/') ? API_BASE.slice(0, -1) : API_BASE;\r\n        const cleanPath = imageUrl.startsWith('/') ? imageUrl : `/${imageUrl}`;\r\n        imageUrl = `${cleanBase}${cleanPath}`;\r\n    }\r\n\r\n    // Dosya tÃ¼rÃ¼\r\n    const isImage = memory.file_type === 'image' ||\r\n        memory.file_name?.match(/\\.(jpg|jpeg|png|gif|bmp|webp)$/i);\r\n\r\n    // Video zaman bilgisi iÃ§eriyor mu?\r\n    const hasTimestamp = memory.summary && memory.summary.includes('saniyesinde');\r\n\r\n    return (\r\n        <div className=\"memory-result-card\"\r\n            onClick={() => window.open(imageUrl, '_blank')}\r\n            style={{\r\n                background: '#1a1a1a',\r\n                border: hasTimestamp ? '1px solid #FBBF24' : '1px solid #3B82F6', // Video bulunursa SarÄ± Ã§erÃ§eve\r\n                borderRadius: '12px',\r\n                padding: '15px',\r\n                marginTop: '15px',\r\n                display: 'flex',\r\n                gap: '15px',\r\n                cursor: 'pointer',\r\n                minHeight: '80px',\r\n                color: 'white'\r\n            }}\r\n        >\r\n            {/* KÃ¼Ã§Ã¼k Resim */}\r\n            <div style={{\r\n                width: '80px', height: '80px',\r\n                borderRadius: '8px', overflow: 'hidden',\r\n                background: '#000', flexShrink: 0,\r\n                border: '1px solid rgba(255,255,255,0.1)',\r\n                display: 'flex', alignItems: 'center', justifyContent: 'center'\r\n            }}>\r\n                {isImage && imageUrl ? (\r\n                    <img src={imageUrl} alt=\"thumbnail\" style={{ width: '100%', height: '100%', objectFit: 'cover' }}\r\n                        onError={(e) => { e.target.style.display = 'none'; }} />\r\n                ) : (\r\n                    <div style={{ fontSize: '2rem', color: '#fff' }}>\r\n                        <i className={memory.file_type === 'video' ? \"fas fa-video\" : \"fas fa-file-alt\"}></i>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {/* Bilgi AlanÄ± */}\r\n            <div style={{ flex: 1, display: 'flex', flexDirection: 'column', justifyContent: 'center' }}>\r\n                <h4 style={{ margin: '0 0 5px 0', color: hasTimestamp ? '#FBBF24' : '#3B82F6', fontSize: '1rem' }}>\r\n                    {memory.file_name}\r\n                </h4>\r\n\r\n                {/* Ã–zet / Zaman DamgasÄ± AlanÄ± - GÃ–RÃœNÃœR YAPILDI */}\r\n                <p style={{\r\n                    margin: '0 0 5px 0',\r\n                    fontSize: '0.9rem',\r\n                    color: hasTimestamp ? '#FBBF24' : '#ccc', // SarÄ± veya AÃ§Ä±k Gri\r\n                    fontWeight: hasTimestamp ? 'bold' : 'normal'\r\n                }}>\r\n                    {memory.summary || \"GÃ¶rsel iÃ§erik.\"}\r\n                </p>\r\n\r\n                <div style={{ fontSize: '0.75rem', opacity: 0.6, color: '#aaa' }}>\r\n                    <i className=\"fas fa-bullseye\" style={{ marginRight: '5px' }}></i>\r\n                    Skor: %{(memory.similarity_score * 100).toFixed(0)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ChronologyBar = ({ refreshTrigger }) => {\r\n    const [events, setEvents] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    const fetchTimeline = async () => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            const response = await fetch(`${API_BASE}/api/timeline/?days=7&limit=10`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n            const data = await response.json();\r\n\r\n            if (data.timeline_events) {\r\n                setEvents(data.timeline_events);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Timeline hatasÄ±:\", error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchTimeline();\r\n    }, [refreshTrigger]);\r\n\r\n    if (loading) return <div className=\"chronology-wrapper\" style={{ padding: '20px', textAlign: 'center' }}>YÃ¼kleniyor...</div>;\r\n\r\n    return (\r\n        <div className=\"chronology-wrapper\">\r\n            <h3 style={{ fontSize: '1rem', color: 'var(--text-secondary)', marginBottom: '15px' }}>Son Aktiviteler</h3>\r\n            <div className=\"chronology-track\" style={{ overflowX: 'auto', paddingBottom: '10px', display: 'flex', gap: '20px' }}>\r\n                {events.length === 0 ? (\r\n                    <div style={{ color: 'var(--text-muted)' }}>HenÃ¼z bir aktivite yok.</div>\r\n                ) : (\r\n                    events.map((event, index) => (\r\n                        <div key={index} className=\"chrono-item\" title={event.description} style={{ minWidth: '100px', textAlign: 'center' }}>\r\n                            <div className={`chrono-dot ${index === 0 ? 'active' : ''}`} style={{ margin: '0 auto 10px auto' }}></div>\r\n                            <span style={{ fontSize: '0.8rem', display: 'block', whiteSpace: 'nowrap', overflow: 'hidden', textOverflow: 'ellipsis', maxWidth: '100px' }}>\r\n                                {/* Uzun baÅŸlÄ±klarÄ± kÄ±salt */}\r\n                                {event.title.length > 15 ? event.title.substring(0, 12) + '..' : event.title}\r\n                            </span>\r\n                            <small style={{ fontSize: '0.7rem', color: 'var(--text-muted)' }}>\r\n                                {new Date(event.timestamp).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' })}\r\n                            </small>\r\n                        </div>\r\n                    ))\r\n                )}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default function Dashboard({ notifications = [] }) {\r\n    const { user, logout } = useAuth();\r\n    const { fetchMemoryStats: fetchMemoryStatsFromContext } = useMemory();\r\n    const [memoryStats, setMemoryStats] = useState(null);\r\n    const [storageStats, setStorageStats] = useState({ used: 0, total: 50 });\r\n    const [timelineRefresh, setTimelineRefresh] = useState(0);\r\n    const [activeTab, setActiveTab] = useState(\"downloader\");\r\n    const [notificationCount] = useState(notifications.length || 3);\r\n    const [selectedThread, setSelectedThread] = useState(null);\r\n    const [onlineUsers, setOnlineUsers] = useState([]);\r\n    const [theme, setTheme] = useState('dark');\r\n    const [isDropdownOpen, setIsDropdownOpen] = useState(false);\r\n    const dropdownRef = useRef(null);\r\n    const [isThemeAnimating, setIsThemeAnimating] = useState(false);\r\n\r\n    const handleTimelineRefresh = () => {\r\n        setTimelineRefresh(prev => prev + 1);\r\n    };\r\n\r\n    const fetchStorageData = async () => {\r\n        try {\r\n            const token = localStorage.getItem('token');\r\n            if (!token) return;\r\n\r\n            const response = await fetch(`${API_BASE}/api/files/`, {\r\n                headers: { 'Authorization': `Bearer ${token}` }\r\n            });\r\n\r\n            if (response.ok) {\r\n                const files = await response.json();\r\n                let totalBytes = 0;\r\n                files.forEach(file => {\r\n                    if (file.file_size) totalBytes += file.file_size;\r\n                    else totalBytes += 1024 * 1024;\r\n                });\r\n                const usedGB = totalBytes / (1024 * 1024 * 1024);\r\n                setStorageStats({ used: usedGB, total: 50 });\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Depolama verisi Ã§ekilemedi:\", error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        function handleClickOutside(event) {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n                setIsDropdownOpen(false);\r\n            }\r\n        }\r\n        document.addEventListener(\"mousedown\", handleClickOutside);\r\n        return () => {\r\n            document.removeEventListener(\"mousedown\", handleClickOutside);\r\n        };\r\n    }, [dropdownRef]);\r\n\r\n    const fetchMemoryStats = useCallback(async () => {\r\n        try {\r\n            if (fetchMemoryStatsFromContext) {\r\n                const stats = await fetchMemoryStatsFromContext();\r\n                setMemoryStats(stats);\r\n            } else {\r\n                setMemoryStats({\r\n                    memory_used_mb: 2.5,\r\n                    memory_quota_mb: 100,\r\n                    total_items: 42\r\n                });\r\n            }\r\n        } catch (error) {\r\n            console.error('Hata:', error);\r\n            setMemoryStats({ memory_used_mb: 0, memory_quota_mb: 100 });\r\n        }\r\n    }, [fetchMemoryStatsFromContext]);\r\n\r\n    useEffect(() => {\r\n        fetchMemoryStats();\r\n        fetchStorageData();\r\n        const interval = setInterval(() => {\r\n            fetchStorageData();\r\n            fetchMemoryStats();\r\n        }, 30000);\r\n        return () => clearInterval(interval);\r\n    }, [fetchMemoryStats]);\r\n\r\n    const handleLogout = () => { logout(); };\r\n\r\n    const toggleTheme = () => {\r\n        setIsThemeAnimating(true);\r\n        setTimeout(() => {\r\n            const newTheme = theme === 'dark' ? 'light' : 'dark';\r\n            setTheme(newTheme);\r\n            document.documentElement.setAttribute('data-theme', newTheme);\r\n        }, 200);\r\n        setTimeout(() => { setIsThemeAnimating(false); }, 500);\r\n    };\r\n\r\n    const toggleDropdown = () => { setIsDropdownOpen(!isDropdownOpen); };\r\n\r\n    const onChatFileSelect = (file) => {\r\n        alert(`\"${file.name}\" seÃ§ildi.`);\r\n        setActiveTab(\"downloader\");\r\n    };\r\n\r\n    useEffect(() => {\r\n        document.documentElement.setAttribute('data-theme', theme);\r\n        fetchMemoryStats();\r\n\r\n        const fetchOnlineUsers = async () => {\r\n            try {\r\n                const token = localStorage.getItem('token');\r\n                if (!token) return;\r\n                const response = await fetch(`${API_BASE}/chat/users/`, {\r\n                    method: 'GET',\r\n                    headers: { 'Authorization': `Bearer ${token}` },\r\n                });\r\n                if (response.ok) {\r\n                    const users = await response.json();\r\n                    setOnlineUsers(users);\r\n                }\r\n            } catch (error) {\r\n                console.error('KullanÄ±cÄ± listesi hatasÄ±:', error);\r\n            }\r\n        };\r\n        fetchOnlineUsers();\r\n    }, [logout, theme, fetchMemoryStats]);\r\n\r\n    const renderContent = () => {\r\n        switch (activeTab) {\r\n            case \"downloader\":\r\n                const storagePercent = Math.min((storageStats.used / storageStats.total) * 100, 100).toFixed(1);\r\n\r\n                // NaN hatasÄ± dÃ¼zeltmesi\r\n                const memoryPercent = (memoryStats && memoryStats.memory_quota_mb > 0)\r\n                    ? ((memoryStats.memory_used_mb / memoryStats.memory_quota_mb) * 100).toFixed(1)\r\n                    : \"0.0\";\r\n\r\n                return (\r\n                    <div className=\"dashboard-home-layout\">\r\n                        <WelcomeChatSection\r\n                            username={user?.username}\r\n                            onFileSelect={onChatFileSelect}\r\n                            onRefreshTimeline={handleTimelineRefresh}\r\n                        />\r\n\r\n                        <ChronologyBar refreshTrigger={timelineRefresh} />\r\n\r\n                        <div className=\"stats-grid-visual\">\r\n                            <div className=\"qyptos-card storage-card\">\r\n                                <div className=\"card-header\">\r\n                                    <i className=\"fas fa-archive\"></i>\r\n                                    <h3>Depolama AlanÄ±</h3>\r\n                                </div>\r\n                                <div className=\"circle-chart-wrapper\">\r\n                                    <svg viewBox=\"0 0 36 36\" className=\"circular-chart blue\">\r\n                                        <path className=\"circle-bg\" d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\" />\r\n                                        <path className=\"circle\" strokeDasharray={`${storagePercent}, 100`} d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\" />\r\n                                        <text x=\"18\" y=\"20.35\" className=\"percentage\">{storagePercent}%</text>\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"card-footer\">\r\n                                    <span>KullanÄ±lan: {storageStats.used.toFixed(2)} GB</span>\r\n                                    <span>Toplam: {storageStats.total} GB</span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"qyptos-card memory-card\">\r\n                                <div className=\"card-header\">\r\n                                    <i className=\"fas fa-brain\"></i>\r\n                                    <h3>Yapay HafÄ±za</h3>\r\n                                </div>\r\n                                <div className=\"circle-chart-wrapper\">\r\n                                    <svg viewBox=\"0 0 36 36\" className=\"circular-chart purple\">\r\n                                        <path className=\"circle-bg\" d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\" />\r\n                                        <path className=\"circle\" strokeDasharray={`${memoryPercent}, 100`} d=\"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831\" />\r\n                                        <text x=\"18\" y=\"20.35\" className=\"percentage\">{memoryPercent}%</text>\r\n                                    </svg>\r\n                                </div>\r\n                                <div className=\"card-footer\">\r\n                                    <span>{memoryStats?.total_items || 0} Ã–ÄŸrenilen Bilgi</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"downloader-container-wrapper\">\r\n                            <ChunkDownloader apiBase={`${API_BASE}/api`} />\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case \"groups\": return <GroupManager />;\r\n            case \"memory\": return <MemoryStatsView stats={memoryStats} />;\r\n            case \"chat\":\r\n                return (\r\n                    <div className=\"chat-container\">\r\n                        <div className=\"chat-sidebar\">\r\n                            <UserList\r\n                                users={onlineUsers}\r\n                                currentUser={user?.username}\r\n                                onSelectUser={(username) => {\r\n                                    const selectedUser = onlineUsers.find(u => u.username === username);\r\n                                    setSelectedThread({\r\n                                        id: Date.now(),\r\n                                        username: username,\r\n                                        isOnline: selectedUser?.is_online || false\r\n                                    });\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div className=\"chat-main\">\r\n                            {selectedThread ? (\r\n                                <>\r\n                                    <ChatHeader username={selectedThread.username} isOnline={selectedThread.isOnline} />\r\n                                    <ChatBox threadId={selectedThread.id} currentUser={user?.username} />\r\n                                </>\r\n                            ) : (\r\n                                <div className=\"no-chat-selected\">\r\n                                    <div className=\"no-chat-icon\">ðŸ’¬</div>\r\n                                    <h3>Bir sohbet baÅŸlatÄ±n</h3>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case \"ads\": return <TrendingView />;\r\n            case \"media\": return <SearchEngine />;\r\n            case \"profile\":\r\n                return (\r\n                    <div className=\"content-placeholder\">\r\n                        <h2>Profil</h2>\r\n                        <p>KullanÄ±cÄ±: {user?.username}</p>\r\n                    </div>\r\n                );\r\n            default: return <div>SeÃ§im yapÄ±n</div>;\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"dashboard-horizontal\">\r\n            <nav className=\"top-nav\">\r\n                <div className=\"nav-left\">\r\n                    <div className=\"logo\">\r\n                        <img src=\"/qyptos-logo.png\" alt=\"qyptos-logo\" className=\"qyptos-logo-img\" />\r\n                    </div>\r\n                    <div className=\"nav-menu\">\r\n                        <div className={`nav-item ${activeTab === \"downloader\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"downloader\")}><i className=\"fas fa-cloud\"></i> <span>Bulutum</span></div>\r\n                        <div className={`nav-item ${activeTab === \"ads\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"ads\")}><i className=\"fas fa-fire\"></i> <span>Trendler</span></div>\r\n                        <div className={`nav-item ${activeTab === \"media\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"media\")}><i className=\"fas fa-search\"></i> <span>Ara</span></div>\r\n                        <div className={`nav-item ${activeTab === \"groups\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"groups\")}><i className=\"fas fa-users\"></i> <span>Gruplar</span></div>\r\n                        <div className={`nav-item ${activeTab === \"chat\" ? \"active\" : \"\"}`} onClick={() => setActiveTab(\"chat\")}><i className=\"fas fa-comments\"></i> <span>DM</span></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"nav-right\">\r\n                    <div className={`theme-toggle ${isThemeAnimating ? 'animating' : ''}`} onClick={toggleTheme}>\r\n                        <i className={`fas ${theme === 'dark' ? 'fa-moon' : 'fa-sun'}`}></i>\r\n                    </div>\r\n                    <div className=\"notification-bell\">\r\n                        <i className=\"fas fa-bell\"></i>\r\n                        {notificationCount > 0 && <span className=\"notification-badge\">{notificationCount}</span>}\r\n                    </div>\r\n                    <div className=\"user-dropdown\" onClick={toggleDropdown} ref={dropdownRef}>\r\n                        <div className=\"user-avatar\"><i className=\"fas fa-user\"></i></div>\r\n                        <span className=\"user-name\">{user?.username || 'burak'}</span>\r\n                        <i className={`fas fa-chevron-down ${isDropdownOpen ? 'rotate' : ''}`}></i>\r\n                        {isDropdownOpen && (\r\n                            <div className=\"dropdown-menu show\">\r\n                                <div className=\"dropdown-item\" onClick={(e) => { e.stopPropagation(); setActiveTab(\"profile\"); setIsDropdownOpen(false); }}><i className=\"fas fa-user\"></i><span>Profil</span></div>\r\n                                <div className=\"dropdown-item danger\" onClick={(e) => { e.stopPropagation(); handleLogout(); }}><i className=\"fas fa-sign-out-alt\"></i><span>Ã‡Ä±kÄ±ÅŸ Yap</span></div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </nav>\r\n            <main className=\"main-content-horizontal\">\r\n                {renderContent()}\r\n            </main>\r\n        </div>\r\n    );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
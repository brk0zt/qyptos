{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useApi = () => {\n  _s();\n  const [csrfToken, setCsrfToken] = useState('');\n  useEffect(() => {\n    // CSRF token'覺n覺 cookie'den al\n    const getCookie = name => {\n      let cookieValue = null;\n      if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n          const cookie = cookies[i].trim();\n          if (cookie.substring(0, name.length + 1) === name + '=') {\n            cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n            break;\n          }\n        }\n      }\n      return cookieValue;\n    };\n    const token = getCookie('csrftoken');\n    if (token) {\n      setCsrfToken(token);\n    }\n  }, []);\n  const apiFetch = async (url, options = {}) => {\n    const defaultOptions = {\n      headers: {\n        'X-CSRFToken': csrfToken,\n        ...options.headers\n      },\n      credentials: 'include' // Cookie'leri dahil et\n    };\n    const response = await fetch(url, {\n      ...defaultOptions,\n      ...options\n    });\n    return response;\n  };\n  return {\n    apiFetch\n  };\n};\n_s(useApi, \"oGJDfbo+++skzJE6J07w8jLe9PI=\");\nexport default useApi;","map":{"version":3,"names":["useState","useEffect","useApi","_s","csrfToken","setCsrfToken","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","token","apiFetch","url","options","defaultOptions","headers","credentials","response","fetch"],"sources":["C:/Users/Burak/Desktop/cloud_mvp/frontend/src/components/useApi.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useApi = () => {\r\n    const [csrfToken, setCsrfToken] = useState('');\r\n\r\n    useEffect(() => {\r\n        // CSRF token'覺n覺 cookie'den al\r\n        const getCookie = (name) => {\r\n            let cookieValue = null;\r\n            if (document.cookie && document.cookie !== '') {\r\n                const cookies = document.cookie.split(';');\r\n                for (let i = 0; i < cookies.length; i++) {\r\n                    const cookie = cookies[i].trim();\r\n                    if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return cookieValue;\r\n        };\r\n\r\n        const token = getCookie('csrftoken');\r\n        if (token) {\r\n            setCsrfToken(token);\r\n        }\r\n    }, []);\r\n\r\n    const apiFetch = async (url, options = {}) => {\r\n        const defaultOptions = {\r\n            headers: {\r\n                'X-CSRFToken': csrfToken,\r\n                ...options.headers,\r\n            },\r\n            credentials: 'include', // Cookie'leri dahil et\r\n        };\r\n\r\n        const response = await fetch(url, { ...defaultOptions, ...options });\r\n        return response;\r\n    };\r\n\r\n    return { apiFetch };\r\n};\r\n\r\nexport default useApi;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,MAAM,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACjB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACZ;IACA,MAAMK,SAAS,GAAIC,IAAI,IAAK;MACxB,IAAIC,WAAW,GAAG,IAAI;MACtB,IAAIC,QAAQ,CAACC,MAAM,IAAID,QAAQ,CAACC,MAAM,KAAK,EAAE,EAAE;QAC3C,MAAMC,OAAO,GAAGF,QAAQ,CAACC,MAAM,CAACE,KAAK,CAAC,GAAG,CAAC;QAC1C,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,OAAO,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;UACrC,MAAMH,MAAM,GAAGC,OAAO,CAACE,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;UAChC,IAAIL,MAAM,CAACM,SAAS,CAAC,CAAC,EAAET,IAAI,CAACO,MAAM,GAAG,CAAC,CAAC,KAAMP,IAAI,GAAG,GAAI,EAAE;YACvDC,WAAW,GAAGS,kBAAkB,CAACP,MAAM,CAACM,SAAS,CAACT,IAAI,CAACO,MAAM,GAAG,CAAC,CAAC,CAAC;YACnE;UACJ;QACJ;MACJ;MACA,OAAON,WAAW;IACtB,CAAC;IAED,MAAMU,KAAK,GAAGZ,SAAS,CAAC,WAAW,CAAC;IACpC,IAAIY,KAAK,EAAE;MACPb,YAAY,CAACa,KAAK,CAAC;IACvB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;IAC1C,MAAMC,cAAc,GAAG;MACnBC,OAAO,EAAE;QACL,aAAa,EAAEnB,SAAS;QACxB,GAAGiB,OAAO,CAACE;MACf,CAAC;MACDC,WAAW,EAAE,SAAS,CAAE;IAC5B,CAAC;IAED,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACN,GAAG,EAAE;MAAE,GAAGE,cAAc;MAAE,GAAGD;IAAQ,CAAC,CAAC;IACpE,OAAOI,QAAQ;EACnB,CAAC;EAED,OAAO;IAAEN;EAAS,CAAC;AACvB,CAAC;AAAChB,EAAA,CAxCID,MAAM;AA0CZ,eAAeA,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}